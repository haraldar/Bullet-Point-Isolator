/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => BulletPointIsolator
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var ISOLATION_FILE = "isolation.md";
var BulletPointIsolator = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("dice", "BulletPointIsolator Plugin", (evt) => {
      new import_obsidian.Notice("This is a notice i guess!");
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addCommand({
      id: "open-sample-modal-simple",
      name: "Open sample modal (simple)",
      callback: () => {
        new BulletPointIsolatorModal(this.app).open();
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "BulletPointIsolator editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("BulletPointIsolator Editor Command");
      }
    });
    this.addCommand({
      id: "open-sample-modal-complex",
      name: "Open sample modal (complex)",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            new BulletPointIsolatorModal(this.app).open();
          }
          return true;
        }
      }
    });
    this.addSettingTab(new BulletPointIsolatorSettingTab(this.app, this));
    this.registerDomEvent(document, "click", async (evt) => {
      await this.isolateBulletPoint(evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  async isolateBulletPoint(evt) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    if (evt.altKey && evt.ctrlKey && this.getBulletPointNr(evt.target.parentNode)) {
      this.showNotice("Bullet Point Isolator activated.");
      const fileOrigin = (_a = this.app.workspace.activeEditor) == null ? void 0 : _a.file;
      const currentFocusLine = (_c = (_b = this.app.workspace.activeEditor) == null ? void 0 : _b.editor) == null ? void 0 : _c.getCursor().line;
      if ((fileOrigin == null ? void 0 : fileOrigin.path) === null || (fileOrigin == null ? void 0 : fileOrigin.path) === void 0) {
        this.showNotice("file origin is either null or undefined", true);
        return;
      } else if ((fileOrigin == null ? void 0 : fileOrigin.path) === ISOLATION_FILE) {
        const bulletPointNr = this.getBulletPointNr(evt.target.parentNode);
        if (bulletPointNr === null) {
          this.showNotice("line in focus doesn't have bullet point", true);
          return;
        } else if (bulletPointNr !== 1) {
          this.showNotice("line in focus isn't root bullet point", true);
          return;
        }
        await this.app.fileManager.processFrontMatter(fileOrigin, async (fm) => {
          var _a2, _b2, _c2, _d2, _e2, _f2;
          const fmLength = Object.keys(fm).length + 2;
          const isolationFileLineCount = (_b2 = (_a2 = this.app.workspace.activeEditor) == null ? void 0 : _a2.editor) == null ? void 0 : _b2.lineCount();
          const isolatedFileAbstract = (_c2 = this.app.workspace.activeEditor) == null ? void 0 : _c2.file;
          let linesToWrite = [];
          for (let lineNr = fmLength; lineNr < isolationFileLineCount; lineNr++) {
            linesToWrite.push((_e2 = (_d2 = this.app.workspace.activeEditor) == null ? void 0 : _d2.editor) == null ? void 0 : _e2.getLine(lineNr));
          }
          const linesToWriteCount = linesToWrite.length;
          const originFileAbstract = this.app.vault.getAbstractFileByPath(fm.origin);
          await this.app.workspace.getLeaf().openFile(originFileAbstract);
          const currentEditor = (_f2 = this.app.workspace.activeEditor) == null ? void 0 : _f2.editor;
          for (let lineNr = fm.startLine; lineNr < fm.endLine; lineNr++) {
            currentEditor == null ? void 0 : currentEditor.setLine(lineNr, "");
          }
          if (linesToWriteCount > fm.endLine - fm.startLine + 1) {
            const spacers = "\n".repeat(linesToWriteCount - (fm.endLine - fm.startLine + 1));
            currentEditor == null ? void 0 : currentEditor.setLine(fm.endLine, spacers);
          } else {
            currentEditor == null ? void 0 : currentEditor.setLine(fm.endLine, "");
          }
          for (let i = 0; i < linesToWriteCount; i++) {
            const lineToWrite = fm.startLine + i;
            currentEditor == null ? void 0 : currentEditor.setLine(lineToWrite, "	".repeat(fm.offset) + linesToWrite[i]);
          }
          await this.app.vault.delete(isolatedFileAbstract);
        });
      } else {
        if (currentFocusLine === void 0 || currentFocusLine === null) {
          this.showNotice("no line in focus", true);
          return;
        }
        const isBulletPoint = this.getBulletPointNr(evt.target.parentNode);
        if (isBulletPoint === null) {
          this.showNotice("line in focus doesn't have bullet point", true);
          return;
        }
        const bulletPointsCount = this.countBulletPointLines(evt.target.parentNode);
        let rootLine = (_e = (_d = this.app.workspace.activeEditor) == null ? void 0 : _d.editor) == null ? void 0 : _e.getLine(currentFocusLine);
        const rootOffset = rootLine == null ? void 0 : rootLine.match(/^\s*/)[0].length;
        if (rootOffset >= 1)
          rootLine = rootLine.substring(rootOffset);
        let linesToIsolate = [rootLine];
        for (let i = 1; i < bulletPointsCount; i++) {
          let lineToIsolate = (_g = (_f = this.app.workspace.activeEditor) == null ? void 0 : _f.editor) == null ? void 0 : _g.getLine(currentFocusLine + i);
          if (rootOffset >= 1) {
            lineToIsolate = lineToIsolate == null ? void 0 : lineToIsolate.substring(rootOffset);
          }
          linesToIsolate.push(lineToIsolate);
        }
        console.log(linesToIsolate);
        let bulletPointsText = linesToIsolate.join("\n");
        const frontmatterJson = {
          "origin": (_i = (_h = this.app.workspace.activeEditor) == null ? void 0 : _h.file) == null ? void 0 : _i.path,
          "startLine": currentFocusLine,
          "endLine": currentFocusLine + bulletPointsCount - 1,
          "offset": rootOffset
        };
        const frontmatter = this.convertJsonToFrontmatter(frontmatterJson);
        bulletPointsText = frontmatter + bulletPointsText;
        const isolatedFileAbstract = this.app.vault.getAbstractFileByPath(ISOLATION_FILE);
        if (isolatedFileAbstract)
          this.app.vault.delete(isolatedFileAbstract);
        const isolatedFile = await this.app.vault.create(ISOLATION_FILE, bulletPointsText);
        await this.app.workspace.getLeaf().openFile(isolatedFile);
      }
    }
  }
  showNotice(msg, isFail = false) {
    new import_obsidian.Notice(isFail ? `BulletPointIsolation failed: ${msg}.` : msg);
  }
  getBulletPointNr(elem) {
    const match = elem.className.match(/HyperMD-list-line-(\d+)/);
    return match ? parseInt(match[1]) : null;
  }
  countBulletPointLines(elem) {
    let sibling = elem;
    const rootOffset = this.getBulletPointNr(sibling);
    let siblingCount = 1;
    while (sibling.nextSibling !== null) {
      sibling = sibling.nextSibling;
      const siblingOffset = this.getBulletPointNr(sibling);
      if (rootOffset >= siblingOffset)
        break;
      siblingCount++;
    }
    return siblingCount;
  }
  convertJsonToFrontmatter(obj, pendingNewline = true) {
    let frontmatterArr = Object.keys(obj).map((key) => `${key}: ${obj[key]}`);
    frontmatterArr.push("---");
    frontmatterArr.unshift("---");
    let frontmatterText = frontmatterArr.join("\n");
    return pendingNewline ? frontmatterText + "\n" : frontmatterText;
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var BulletPointIsolatorModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var BulletPointIsolatorSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for my awesome plugin." });
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      console.log("Secret: " + value);
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBFZGl0b3JQb3NpdGlvbiB9IGZyb20gJ29ic2lkaWFuJztcblxuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcblxuaW50ZXJmYWNlIEJ1bGxldFBvaW50SXNvbGF0b3JTZXR0aW5ncyB7XG5cdG15U2V0dGluZzogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBCdWxsZXRQb2ludElzb2xhdG9yU2V0dGluZ3MgPSB7XG5cdG15U2V0dGluZzogJ2RlZmF1bHQnXG59XG5cblxuXG5jb25zdCBJU09MQVRJT05fRklMRSA9IFwiaXNvbGF0aW9uLm1kXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldFBvaW50SXNvbGF0b3IgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQnVsbGV0UG9pbnRJc29sYXRvclNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxuXHRcdGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignZGljZScsICdCdWxsZXRQb2ludElzb2xhdG9yIFBsdWdpbicsIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdC8vIENhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGUgaWNvbi5cblx0XHRcdG5ldyBOb3RpY2UoJ1RoaXMgaXMgYSBub3RpY2UgaSBndWVzcyEnKTtcblx0XHR9KTtcblx0XHQvLyBQZXJmb3JtIGFkZGl0aW9uYWwgdGhpbmdzIHdpdGggdGhlIHJpYmJvblxuXHRcdHJpYmJvbkljb25FbC5hZGRDbGFzcygnbXktcGx1Z2luLXJpYmJvbi1jbGFzcycpO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc3RhdHVzIGJhciBpdGVtIHRvIHRoZSBib3R0b20gb2YgdGhlIGFwcC4gRG9lcyBub3Qgd29yayBvbiBtb2JpbGUgYXBwcy5cblx0XHRjb25zdCBzdGF0dXNCYXJJdGVtRWwgPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcblx0XHRzdGF0dXNCYXJJdGVtRWwuc2V0VGV4dCgnU3RhdHVzIEJhciBUZXh0Jyk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzaW1wbGUgY29tbWFuZCB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYW55d2hlcmVcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXNhbXBsZS1tb2RhbC1zaW1wbGUnLFxuXHRcdFx0bmFtZTogJ09wZW4gc2FtcGxlIG1vZGFsIChzaW1wbGUpJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5ldyBCdWxsZXRQb2ludElzb2xhdG9yTW9kYWwodGhpcy5hcHApLm9wZW4oKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvLyBUaGlzIGFkZHMgYW4gZWRpdG9yIGNvbW1hbmQgdGhhdCBjYW4gcGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvbiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2Vcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdzYW1wbGUtZWRpdG9yLWNvbW1hbmQnLFxuXHRcdFx0bmFtZTogJ0J1bGxldFBvaW50SXNvbGF0b3IgZWRpdG9yIGNvbW1hbmQnLFxuXHRcdFx0ZWRpdG9yQ2FsbGJhY2s6IChlZGl0b3I6IEVkaXRvciwgdmlldzogTWFya2Rvd25WaWV3KSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVkaXRvci5nZXRTZWxlY3Rpb24oKSk7XG5cdFx0XHRcdGVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKCdCdWxsZXRQb2ludElzb2xhdG9yIEVkaXRvciBDb21tYW5kJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gVGhpcyBhZGRzIGEgY29tcGxleCBjb21tYW5kIHRoYXQgY2FuIGNoZWNrIHdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcCBhbGxvd3MgZXhlY3V0aW9uIG9mIHRoZSBjb21tYW5kXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi1zYW1wbGUtbW9kYWwtY29tcGxleCcsXG5cdFx0XHRuYW1lOiAnT3BlbiBzYW1wbGUgbW9kYWwgKGNvbXBsZXgpJyxcblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHQvLyBDb25kaXRpb25zIHRvIGNoZWNrXG5cdFx0XHRcdGNvbnN0IG1hcmtkb3duVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0XHRcdGlmIChtYXJrZG93blZpZXcpIHtcblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyB0cnVlLCB3ZSdyZSBzaW1wbHkgXCJjaGVja2luZ1wiIGlmIHRoZSBjb21tYW5kIGNhbiBiZSBydW4uXG5cdFx0XHRcdFx0Ly8gSWYgY2hlY2tpbmcgaXMgZmFsc2UsIHRoZW4gd2Ugd2FudCB0byBhY3R1YWxseSBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG5cdFx0XHRcdFx0aWYgKCFjaGVja2luZykge1xuXHRcdFx0XHRcdFx0bmV3IEJ1bGxldFBvaW50SXNvbGF0b3JNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFRoaXMgY29tbWFuZCB3aWxsIG9ubHkgc2hvdyB1cCBpbiBDb21tYW5kIFBhbGV0dGUgd2hlbiB0aGUgY2hlY2sgZnVuY3Rpb24gcmV0dXJucyB0cnVlXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBCdWxsZXRQb2ludElzb2xhdG9yU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBob29rcyB1cCBhbnkgZ2xvYmFsIERPTSBldmVudHMgKG9uIHBhcnRzIG9mIHRoZSBhcHAgdGhhdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHBsdWdpbilcblx0XHQvLyBVc2luZyB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhpcyBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCBhc3luYyAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLmlzb2xhdGVCdWxsZXRQb2ludChldnQpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0dGhpcy5yZWdpc3RlckludGVydmFsKHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKSwgNSAqIDYwICogMTAwMCkpO1xuXHR9XG5cblx0YXN5bmMgaXNvbGF0ZUJ1bGxldFBvaW50KGV2dDogTW91c2VFdmVudCkge1xuXHRcdFxuXHRcdGlmIChldnQuYWx0S2V5ICYmIGV2dC5jdHJsS2V5ICYmIHRoaXMuZ2V0QnVsbGV0UG9pbnROcihldnQudGFyZ2V0LnBhcmVudE5vZGUpKSB7XG5cdFx0XHRcblx0XHRcdC8vIGNvbnNvbGUubG9nKFwiQnVsbGV0IFBvaW50IElzb2xhdG9yIGFjdGl2YXRlZCB3aXRoIEN0cmwrQWx0K0NsaWNrLlwiKTtcblx0XHRcdHRoaXMuc2hvd05vdGljZShcIkJ1bGxldCBQb2ludCBJc29sYXRvciBhY3RpdmF0ZWQuXCIpO1xuXG5cdFx0XHQvLyBHZXQgc29tZSBpbmZvcyBhYm91dCB0aGUgZmlsZSBpbiBmb2N1cy5cblx0XHRcdGNvbnN0IGZpbGVPcmlnaW4gPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5maWxlO1xuXHRcdFx0Y29uc3QgY3VycmVudEZvY3VzTGluZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0Q3Vyc29yKCkubGluZTtcblxuXHRcdFx0Ly8gQ2hlY2sgaWYgd2UgYXJlIGluIHRoZSBpc29sYXRpb24gZmlsZS5cblx0XHRcdGlmIChmaWxlT3JpZ2luPy5wYXRoID09PSBudWxsIHx8IGZpbGVPcmlnaW4/LnBhdGggPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR0aGlzLnNob3dOb3RpY2UoXCJmaWxlIG9yaWdpbiBpcyBlaXRoZXIgbnVsbCBvciB1bmRlZmluZWRcIiwgdHJ1ZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGZpbGVPcmlnaW4/LnBhdGggPT09IElTT0xBVElPTl9GSUxFKSB7XG5cblx0XHRcdFx0Ly8gVGhlIHNlbGVjdGVkIGZpbGUgbXVzdCBjb250YWluIGEgYnVsbGV0IHBvaW50LlxuXHRcdFx0XHRjb25zdCBidWxsZXRQb2ludE5yID0gdGhpcy5nZXRCdWxsZXRQb2ludE5yKGV2dC50YXJnZXQucGFyZW50Tm9kZSk7XG5cdFx0XHRcdGlmIChidWxsZXRQb2ludE5yID09PSBudWxsKSB7XG5cdFx0XHRcdFx0dGhpcy5zaG93Tm90aWNlKFwibGluZSBpbiBmb2N1cyBkb2Vzbid0IGhhdmUgYnVsbGV0IHBvaW50XCIsIHRydWUpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmICggYnVsbGV0UG9pbnROciAhPT0gMSkge1xuXHRcdFx0XHRcdHRoaXMuc2hvd05vdGljZShcImxpbmUgaW4gZm9jdXMgaXNuJ3Qgcm9vdCBidWxsZXQgcG9pbnRcIiwgdHJ1ZSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgZnJvbnRtYXR0ZXIsIHRoZW4gbW9kaWZ5IHRoZSBmaWxlcyB1c2luZyB0aG9zZSBhcyBpbnB1dC5cblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKGZpbGVPcmlnaW4sIGFzeW5jIChmbSkgPT4ge1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBhbW91bnQgb2YgbGluZXMgd2UgbmVlZCB0byB3cml0ZS5cblx0XHRcdFx0XHRjb25zdCBmbUxlbmd0aCA9IE9iamVjdC5rZXlzKGZtKS5sZW5ndGggKyAyO1xuXHRcdFx0XHRcdGNvbnN0IGlzb2xhdGlvbkZpbGVMaW5lQ291bnQgPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5lZGl0b3I/LmxpbmVDb3VudCgpO1xuXHRcdFx0XHRcdGNvbnN0IGlzb2xhdGVkRmlsZUFic3RyYWN0ID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZmlsZTtcblxuXHRcdFx0XHRcdC8vIFJlYWQgdGhlIGxpbmVzIHRvIHRyYW5zZmVyLlxuXHRcdFx0XHRcdGxldCBsaW5lc1RvV3JpdGUgPSBbXTtcblx0XHRcdFx0XHRmb3IgKGxldCBsaW5lTnIgPSBmbUxlbmd0aDsgbGluZU5yIDwgaXNvbGF0aW9uRmlsZUxpbmVDb3VudDsgbGluZU5yKyspIHtcblx0XHRcdFx0XHRcdGxpbmVzVG9Xcml0ZS5wdXNoKHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0TGluZShsaW5lTnIpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29uc3QgbGluZXNUb1dyaXRlQ291bnQgPSBsaW5lc1RvV3JpdGUubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gT3BlbiB0aGUgb3JpZ2luIGZpbGUgYW5kIGdldCB0aGUgZWRpdG9yLlxuXHRcdFx0XHRcdGNvbnN0IG9yaWdpbkZpbGVBYnN0cmFjdCA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmbS5vcmlnaW4pO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUob3JpZ2luRmlsZUFic3RyYWN0KTtcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50RWRpdG9yID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZWRpdG9yO1xuXG5cdFx0XHRcdFx0Ly8gRnJlZSB1cCB0aGUgc3BhY2UgaW4gdGhlIG9yaWdpbiBmaWxlLlxuXHRcdFx0XHRcdGZvciAobGV0IGxpbmVOciA9IGZtLnN0YXJ0TGluZTsgbGluZU5yIDwgZm0uZW5kTGluZTsgbGluZU5yKyspIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRFZGl0b3I/LnNldExpbmUobGluZU5yLCBcIlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gVE9ETyBDaGVjayB3aGF0IGlmIGxlc3MgbGluZXMuXG5cdFx0XHRcdFx0aWYgKGxpbmVzVG9Xcml0ZUNvdW50ID4gKChmbS5lbmRMaW5lIC0gZm0uc3RhcnRMaW5lKSArIDEpKSB7XG5cdFx0XHRcdFx0XHQvLyBTZXQgdGhlIGxhc3QgbGluZSB0b1xuXHRcdFx0XHRcdFx0Y29uc3Qgc3BhY2VycyA9IFwiXFxuXCIucmVwZWF0KGxpbmVzVG9Xcml0ZUNvdW50IC0gKChmbS5lbmRMaW5lIC0gZm0uc3RhcnRMaW5lKSArIDEpKTtcblx0XHRcdFx0XHRcdGN1cnJlbnRFZGl0b3I/LnNldExpbmUoZm0uZW5kTGluZSwgc3BhY2Vycyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gU2V0IHRoZSBsYXN0IGxpbmUgb2YgdGhlIHJhbmdlIHRvIHdyaXRlIHRvIGEgc2ltcGxlIHNwYWNlLlxuXHRcdFx0XHRcdFx0Y3VycmVudEVkaXRvcj8uc2V0TGluZShmbS5lbmRMaW5lLCBcIlwiKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBUcmFuc2ZlciB0aGUgbGluZXMgZnJvbSBpc29sYXRpb24gdG8gdGhlIG5ldyBwbGFjZS5cblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzVG9Xcml0ZUNvdW50OyBpKyspIHtcblx0XHRcdFx0XHRcdGNvbnN0IGxpbmVUb1dyaXRlID0gZm0uc3RhcnRMaW5lICsgaTtcblx0XHRcdFx0XHRcdGN1cnJlbnRFZGl0b3I/LnNldExpbmUobGluZVRvV3JpdGUsIFwiXFx0XCIucmVwZWF0KGZtLm9mZnNldCkgKyBsaW5lc1RvV3JpdGVbaV0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIERlbGV0ZSB0aGUgaXNvbGF0aW9uIGZpbGUuXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQuZGVsZXRlKGlzb2xhdGVkRmlsZUFic3RyYWN0KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQSBzZWxlY3RlZCBsaW5lIGlzIHJlcXVpcmVkLlxuXHRcdFx0XHRpZiAoY3VycmVudEZvY3VzTGluZSA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRGb2N1c0xpbmUgPT09IG51bGwpIHtcblx0XHRcdFx0XHR0aGlzLnNob3dOb3RpY2UoXCJubyBsaW5lIGluIGZvY3VzXCIsIHRydWUpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRoZSBzZWxlY3RlZCBmaWxlIG11c3QgY29udGFpbiBhIGJ1bGxldCBwb2ludC5cblx0XHRcdFx0Y29uc3QgaXNCdWxsZXRQb2ludCA9IHRoaXMuZ2V0QnVsbGV0UG9pbnROcihldnQudGFyZ2V0LnBhcmVudE5vZGUpO1xuXHRcdFx0XHRpZiAoaXNCdWxsZXRQb2ludCA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdHRoaXMuc2hvd05vdGljZShcImxpbmUgaW4gZm9jdXMgZG9lc24ndCBoYXZlIGJ1bGxldCBwb2ludFwiLCB0cnVlKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gR2V0IGFsbCB0aGUgYnVsbGV0IGFuZCBzdWJidWxsZXQgcG9pbnRzLlxuXHRcdFx0XHRjb25zdCBidWxsZXRQb2ludHNDb3VudCA9IHRoaXMuY291bnRCdWxsZXRQb2ludExpbmVzKGV2dC50YXJnZXQucGFyZW50Tm9kZSk7XG5cdFxuXHRcdFx0XHQvLyBHZXQgY3VycmVudCBhY3RpdmUgbGluZS5cblx0XHRcdFx0bGV0IHJvb3RMaW5lID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZWRpdG9yPy5nZXRMaW5lKGN1cnJlbnRGb2N1c0xpbmUpO1xuXHRcblx0XHRcdFx0Ly8gR2V0IHRoZSByb290IG9mZnNldCBhbmQgbm9ybWFsaXplIHRoZSBmaXJzdCBsaW5lLlxuXHRcdFx0XHRjb25zdCByb290T2Zmc2V0ID0gcm9vdExpbmU/Lm1hdGNoKC9eXFxzKi8pWzBdLmxlbmd0aDtcblx0XHRcdFx0aWYgKHJvb3RPZmZzZXQgPj0gMSlcblx0XHRcdFx0XHRyb290TGluZSA9IHJvb3RMaW5lLnN1YnN0cmluZyhyb290T2Zmc2V0KTtcblx0XG5cdFx0XHRcdC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgbGluZXMgYWZmZWN0ZWQgYnkgdGhlIGNsaWNrLlxuXHRcdFx0XHRsZXQgbGluZXNUb0lzb2xhdGUgPSBbcm9vdExpbmVdO1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMTsgaSA8IGJ1bGxldFBvaW50c0NvdW50OyBpKyspIHtcblx0XG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBsaW5lLlxuXHRcdFx0XHRcdGxldCBsaW5lVG9Jc29sYXRlID0gdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZWRpdG9yPy5nZXRMaW5lKGN1cnJlbnRGb2N1c0xpbmUgKyBpKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyBOb3JtYWxpemUgdGhlIGxlYWRpbmcgc3BhY2VzIGFuZCBpZiBpdCBpcyBhIHNwYWNlIHRoZW4gcmVwbGFjZSBpdCB3aXRoIHRhYnMuXG5cdFx0XHRcdFx0aWYgKHJvb3RPZmZzZXQgPj0gMSkge1xuXHRcdFx0XHRcdFx0bGluZVRvSXNvbGF0ZSA9IGxpbmVUb0lzb2xhdGU/LnN1YnN0cmluZyhyb290T2Zmc2V0KTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFB1c2ggdGhlIGxpbmUgdG8gdGhlIGFycmF5LlxuXHRcdFx0XHRcdGxpbmVzVG9Jc29sYXRlLnB1c2gobGluZVRvSXNvbGF0ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29uc29sZS5sb2cobGluZXNUb0lzb2xhdGUpO1xuXHRcblx0XHRcdFx0Ly8gSm9pbiB0aGUgbGluZXMgdG8gdXNlIHRoZW0gaW5zaWRlIHRoZSBjcmVhdGUgZnVuY3Rpb24gbGF0ZXIuXG5cdFx0XHRcdGxldCBidWxsZXRQb2ludHNUZXh0ID0gbGluZXNUb0lzb2xhdGUuam9pbihcIlxcblwiKTtcblx0XG5cdFx0XHRcdC8vIEFkZCBzb21lIGZyb250bWF0dGVyIHRvIHRoZSBidWxsZXRwb2ludCB0byBjb3B5LlxuXHRcdFx0XHRjb25zdCBmcm9udG1hdHRlckpzb24gPSB7XG5cdFx0XHRcdFx0XCJvcmlnaW5cIjogdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZmlsZT8ucGF0aCxcblx0XHRcdFx0XHRcInN0YXJ0TGluZVwiOiBjdXJyZW50Rm9jdXNMaW5lLFxuXHRcdFx0XHRcdFwiZW5kTGluZVwiOiBjdXJyZW50Rm9jdXNMaW5lICsgYnVsbGV0UG9pbnRzQ291bnQgLSAxLFxuXHRcdFx0XHRcdFwib2Zmc2V0XCI6IHJvb3RPZmZzZXRcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBmcm9udG1hdHRlciA9IHRoaXMuY29udmVydEpzb25Ub0Zyb250bWF0dGVyKGZyb250bWF0dGVySnNvbik7XG5cdFx0XHRcdGJ1bGxldFBvaW50c1RleHQgPSBmcm9udG1hdHRlciArIGJ1bGxldFBvaW50c1RleHQ7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIHRlbXBvcmFyeSBmaWxlIGlmIGl0IGRvZXNudCBleGlzdCBvdGhlcndpc2UgZGVsZXRlIGl0IGZpcnN0LlxuXHRcdFx0XHRjb25zdCBpc29sYXRlZEZpbGVBYnN0cmFjdCA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChJU09MQVRJT05fRklMRSk7XG5cdFx0XHRcdGlmIChpc29sYXRlZEZpbGVBYnN0cmFjdClcblx0XHRcdFx0XHR0aGlzLmFwcC52YXVsdC5kZWxldGUoaXNvbGF0ZWRGaWxlQWJzdHJhY3QpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gV3JpdGUgdGhlIGJ1bGxldHMgdG8gdGhlIHRlbXBvcmFyeSBmaWxlLlxuXHRcdFx0XHRjb25zdCBpc29sYXRlZEZpbGUgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoSVNPTEFUSU9OX0ZJTEUsIGJ1bGxldFBvaW50c1RleHQpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gQ3JlYXRlIG5ldyBsZWFmIGFuZCBvcGVuIGEgZmlsZSB0aGVyZS5cblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShpc29sYXRlZEZpbGUpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXHRzaG93Tm90aWNlKG1zZywgaXNGYWlsOiBib29sZWFuID0gZmFsc2UpIHtcblx0XHRuZXcgTm90aWNlKGlzRmFpbCA/IGBCdWxsZXRQb2ludElzb2xhdGlvbiBmYWlsZWQ6ICR7bXNnfS5gIDogbXNnKTtcblx0fVxuXG5cdGdldEJ1bGxldFBvaW50TnIoZWxlbSkge1xuXHRcdGNvbnN0IG1hdGNoID0gZWxlbS5jbGFzc05hbWUubWF0Y2goL0h5cGVyTUQtbGlzdC1saW5lLShcXGQrKS8pO1xuXHRcdHJldHVybiBtYXRjaCA/IHBhcnNlSW50KG1hdGNoWzFdKSA6IG51bGw7XG5cdH1cblxuXHRjb3VudEJ1bGxldFBvaW50TGluZXMoZWxlbSkge1xuXG5cdFx0Ly8gU2V0IHRoZSBwYXNzZWQgZWxlbWVudCBhcyBpbml0aWFsIHNpYmxpbmcgYW5kIGhldCBpdHMgb2Zmc2V0IG51bWJlci5cblx0XHRsZXQgc2libGluZyA9IGVsZW07XG5cdFx0Y29uc3Qgcm9vdE9mZnNldCA9IHRoaXMuZ2V0QnVsbGV0UG9pbnROcihzaWJsaW5nKTtcblxuXHRcdGxldCBzaWJsaW5nQ291bnQgPSAxO1xuXHRcdHdoaWxlIChzaWJsaW5nLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cblxuXHRcdFx0Ly8gU2V0IHRoZSBzaWJsaW5nIGFzIGl0cyBuZXh0IHNpYmxpbmcuXG5cdFx0XHRzaWJsaW5nID0gc2libGluZy5uZXh0U2libGluZztcblx0XHRcdFxuXHRcdFx0Ly8gSWYgdGhlIG9mZnNldCBudW1iZXIgaXMgZXF1YWwgb3IgbGVzcywgYnJlYWsgdGhlIGxvb3AuXG5cdFx0XHRjb25zdCBzaWJsaW5nT2Zmc2V0ID0gdGhpcy5nZXRCdWxsZXRQb2ludE5yKHNpYmxpbmcpO1xuXHRcdFx0aWYgKHJvb3RPZmZzZXQgPj0gc2libGluZ09mZnNldClcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8vIEluY3JlbWVudCB0aGUgc2libGluZ3MgY291bnQuXG5cdFx0XHRzaWJsaW5nQ291bnQrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gc2libGluZ0NvdW50O1xuXHR9XG5cblx0Y29udmVydEpzb25Ub0Zyb250bWF0dGVyKG9iaiwgcGVuZGluZ05ld2xpbmU6IGJvb2xlYW4gPSB0cnVlKSB7XG5cdFx0bGV0IGZyb250bWF0dGVyQXJyID0gT2JqZWN0LmtleXMob2JqKS5tYXAoKGtleSkgPT4gYCR7a2V5fTogJHtvYmpba2V5XX1gKTtcblx0XHRmcm9udG1hdHRlckFyci5wdXNoKFwiLS0tXCIpO1xuXHRcdGZyb250bWF0dGVyQXJyLnVuc2hpZnQoXCItLS1cIik7XG5cdFx0bGV0IGZyb250bWF0dGVyVGV4dCA9IGZyb250bWF0dGVyQXJyLmpvaW4oXCJcXG5cIilcblx0XHRyZXR1cm4gcGVuZGluZ05ld2xpbmVcblx0XHRcdD8gZnJvbnRtYXR0ZXJUZXh0ICsgXCJcXG5cIlxuXHRcdFx0OiBmcm9udG1hdHRlclRleHQ7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgQnVsbGV0UG9pbnRJc29sYXRvck1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuXHRcdHN1cGVyKGFwcCk7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5zZXRUZXh0KCdXb2FoIScpO1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cblxuY2xhc3MgQnVsbGV0UG9pbnRJc29sYXRvclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBCdWxsZXRQb2ludElzb2xhdG9yO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEJ1bGxldFBvaW50SXNvbGF0b3IpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnU2V0dGluZ3MgZm9yIG15IGF3ZXNvbWUgcGx1Z2luLid9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1NldHRpbmcgIzEnKVxuXHRcdFx0LnNldERlc2MoJ0l0XFwncyBhIHNlY3JldCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciB5b3VyIHNlY3JldCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnU2VjcmV0OiAnICsgdmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBNEc7QUFTNUcsSUFBTSxtQkFBZ0Q7QUFBQSxFQUNyRCxXQUFXO0FBQ1o7QUFJQSxJQUFNLGlCQUFpQjtBQUV2QixJQUFxQixzQkFBckIsY0FBaUQsdUJBQU87QUFBQSxFQUd2RCxNQUFNLFNBQVM7QUFDZCxVQUFNLEtBQUssYUFBYTtBQUd4QixVQUFNLGVBQWUsS0FBSyxjQUFjLFFBQVEsOEJBQThCLENBQUMsUUFBb0I7QUFFbEcsVUFBSSx1QkFBTywyQkFBMkI7QUFBQSxJQUN2QyxDQUFDO0FBRUQsaUJBQWEsU0FBUyx3QkFBd0I7QUFHOUMsVUFBTSxrQkFBa0IsS0FBSyxpQkFBaUI7QUFDOUMsb0JBQWdCLFFBQVEsaUJBQWlC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NEMsaUNBQWlCO0FBQUEsRUFHNUQsWUFBWSxLQUFVLFFBQTZCO0FBQ2xELFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLFVBQWdCO0FBQ2YsVUFBTSxFQUFDLFlBQVcsSUFBSTtBQUV0QixnQkFBWSxNQUFNO0FBRWxCLGdCQUFZLFNBQVMsTUFBTSxFQUFDLE1BQU0sa0NBQWlDLENBQUM7QUFFcEUsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsWUFBWSxFQUNwQixRQUFRLGVBQWdCLEVBQ3hCLFFBQVEsVUFBUSxLQUNmLGVBQWUsbUJBQW1CLEVBQ2xDLFNBQVMsS0FBSyxPQUFPLFNBQVMsU0FBUyxFQUN2QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixjQUFRLElBQUksYUFBYSxLQUFLO0FBQzlCLFdBQUssT0FBTyxTQUFTLFlBQVk7QUFDakMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLElBQ2hDLENBQUMsQ0FBQztBQUFBLEVBQ0w7QUFDRDsiLAogICJuYW1lcyI6IFsiX2EiLCAiX2IiLCAiX2MiLCAiX2QiLCAiX2UiLCAiX2YiXQp9Cg==
