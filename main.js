/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => BulletPointIsolator
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var fs = require("fs");
var path = require("path");
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var BulletPointIsolator = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("dice", "BulletPointIsolator Plugin", (evt) => {
      new import_obsidian.Notice("This is a notice i guess!");
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addCommand({
      id: "open-sample-modal-simple",
      name: "Open sample modal (simple)",
      callback: () => {
        new BulletPointIsolatorModal(this.app).open();
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "BulletPointIsolator editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("BulletPointIsolator Editor Command");
      }
    });
    this.addCommand({
      id: "open-sample-modal-complex",
      name: "Open sample modal (complex)",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            new BulletPointIsolatorModal(this.app).open();
          }
          return true;
        }
      }
    });
    this.addSettingTab(new BulletPointIsolatorSettingTab(this.app, this));
    this.registerDomEvent(document, "click", async (evt) => {
      await this.isolateBulletPoint(evt);
    });
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  async isolateBulletPoint(evt) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _i;
    if (evt.altKey && evt.ctrlKey && this.getBulletPointNr(evt.target.parentNode)) {
      console.log("Bullet Point Isolator activated with Ctrl+Alt+Click.");
      const fileOrigin = (_a = this.app.workspace.activeEditor) == null ? void 0 : _a.file;
      const bulletPointsCount = this.countBulletPointLines(evt.target.parentNode);
      const currentFocusLine = (_c = (_b = this.app.workspace.activeEditor) == null ? void 0 : _b.editor) == null ? void 0 : _c.getCursor().line;
      let rootLine = (_e = (_d = this.app.workspace.activeEditor) == null ? void 0 : _d.editor) == null ? void 0 : _e.getLine(currentFocusLine);
      const rootOffset = rootLine == null ? void 0 : rootLine.match(/^\s*/)[0].length;
      if (rootOffset >= 1)
        rootLine = rootLine.substring(rootOffset);
      let linesToIsolate = [rootLine];
      for (let i = 1; i < bulletPointsCount; i++) {
        let lineToIsolate = (_g = (_f = this.app.workspace.activeEditor) == null ? void 0 : _f.editor) == null ? void 0 : _g.getLine(currentFocusLine + i);
        if (rootOffset >= 1) {
          lineToIsolate = lineToIsolate == null ? void 0 : lineToIsolate.substring(rootOffset);
        }
        linesToIsolate.push(lineToIsolate);
      }
      let bulletPointsText = linesToIsolate.join("\n");
      const frontmatterJson = {
        "origin": (_i = (_h = this.app.workspace.activeEditor) == null ? void 0 : _h.file) == null ? void 0 : _i.path,
        "line": currentFocusLine
      };
      const frontmatter = this.convertJsonToFrontmatter(frontmatterJson);
      bulletPointsText = frontmatter + bulletPointsText;
      const isolatedFileName = "isolated.md";
      const isolatedFileAbstract = this.app.vault.getAbstractFileByPath(isolatedFileName);
      if (isolatedFileAbstract)
        this.app.vault.delete(isolatedFileAbstract);
      const isolatedFile = await this.app.vault.create(isolatedFileName, bulletPointsText);
      this.app.fileManager.processFrontMatter(isolatedFile, (res) => console.log(res));
      await this.app.workspace.getLeaf().openFile(isolatedFile);
    }
  }
  getBulletPointNr(elem) {
    const match = elem.className.match(/HyperMD-list-line-(\d+)/);
    return match ? parseInt(match[1]) : null;
  }
  countBulletPointLines(elem) {
    let sibling = elem;
    const rootOffset = this.getBulletPointNr(sibling);
    let siblingCount = 1;
    while (sibling.nextSibling !== null) {
      sibling = sibling.nextSibling;
      const siblingOffset = this.getBulletPointNr(sibling);
      if (rootOffset >= siblingOffset)
        break;
      siblingCount++;
    }
    return siblingCount;
  }
  convertJsonToFrontmatter(obj, pendingNewline = true) {
    let frontmatterArr = Object.keys(obj).map((key) => `${key}: ${obj[key]}`);
    frontmatterArr.push("---");
    frontmatterArr.unshift("---");
    let frontmatterText = frontmatterArr.join("\n");
    return pendingNewline ? frontmatterText + "\n" : frontmatterText;
  }
  // openFileWithObsidianProtocol(vaultName, filePath) {
  // 	const fileURI = encodeURI(`obsidian://open?vault=${vaultName}&file=${filePath}`);
  // 	window.open(fileURI);
  // }
  // offsetClassNameNr(className, offset = -1) {
  // 	return className
  // 		.replace(
  // 			/HyperMD-list-line-(\d+)/,
  // 			(match, lineNumber) => {
  // 				const newLineNumber = parseInt(lineNumber) + offset;
  // 				// return `HyperMD-list-line-1`;
  // 				return `HyperMD-list-line-${newLineNumber}`;
  // 			}
  // 		);
  // }
  // offsetBulletPoint(elem: HTMLElement, offset: number = -1) {
  // 	const indentNr = this.getBulletPointNr(elem);
  // 	// const bufferElement = elem.querySelector('.cm-widgetBuffer');
  // 	// if (bufferElement) {
  // 	//   const remainingElements = Array.from(bufferElement.nextElementSibling.children);
  // 	//   elem.replaceChildren(...remainingElements);
  // 	// }
  // 	console.log(elem);
  // 	console.log(elem.textContent?.trim());
  // 	// return className
  // 	// 	.replace(
  // 	// 		/HyperMD-list-line-(\d+)/,
  // 	// 		(match, lineNumber) => {
  // 	// 			const newLineNumber = parseInt(lineNumber) + offset;
  // 	// 			return `HyperMD-list-line-1`;
  // 	// 			// return `HyperMD-list-line-${newLineNumber}`;
  // 	// 		}
  // 	// 	);
  // }
  // // Returns a list of div elements that are
  // findAllBulletPoints(elem) {
  // 	// Set the passed element as initial sibling and het its offset number.
  // 	let sibling = elem;
  // 	const rootOffset = this.getBulletPointNr(sibling);
  // 	// Iterate through all the next siblings as long as a next one exists.
  // 	let siblings = [{
  // 		offset: rootOffset,
  // 		bullet: sibling.textContent.trim(),
  // 		element: sibling
  // 	}];
  // 	while (sibling.nextSibling !== null) {
  // 		// Set the sibling as its next sibling.
  // 		sibling = sibling.nextSibling;
  // 		// If the offset number is equal or less, break the loop.
  // 		const siblingOffset = this.getBulletPointNr(sibling);
  // 		if (rootOffset >= siblingOffset)
  // 			break;
  // 		// Replace the offset number in the class name of the element if the rootOffset is not already 1.
  // 		if (rootOffset > 1) {
  // 			const newClasses = this.offsetClassNameNr(sibling.className);
  // 			sibling.classList.remove(...sibling.classList);
  // 			newClasses.split(" ").forEach(c => sibling.classList.add(c));
  // 		}
  // 		siblings.push({
  // 			offset: siblingOffset,
  // 			bullet: sibling.textContent.trim(),
  // 			element: sibling
  // 		});
  // 	}
  // 	return {
  // 		offset: rootOffset,
  // 		originalFile: this.app.workspace.getActiveFile()?.path,
  // 		lineNr: this.app.workspace.activeEditor?.editor,
  // 		elements: siblings
  // 	}
  // }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var BulletPointIsolatorModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var BulletPointIsolatorSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Settings for my awesome plugin." });
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      console.log("Secret: " + value);
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgdGVzdCB9IGZyb20gJ25vZGU6dGVzdCc7XG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5cbi8vIFJlbWVtYmVyIHRvIHJlbmFtZSB0aGVzZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIVxuXG5pbnRlcmZhY2UgQnVsbGV0UG9pbnRJc29sYXRvclNldHRpbmdzIHtcblx0bXlTZXR0aW5nOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEJ1bGxldFBvaW50SXNvbGF0b3JTZXR0aW5ncyA9IHtcblx0bXlTZXR0aW5nOiAnZGVmYXVsdCdcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVsbGV0UG9pbnRJc29sYXRvciBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBCdWxsZXRQb2ludElzb2xhdG9yU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyBUaGlzIGNyZWF0ZXMgYW4gaWNvbiBpbiB0aGUgbGVmdCByaWJib24uXG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCdkaWNlJywgJ0J1bGxldFBvaW50SXNvbGF0b3IgUGx1Z2luJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0Ly8gQ2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBpY29uLlxuXHRcdFx0bmV3IE5vdGljZSgnVGhpcyBpcyBhIG5vdGljZSBpIGd1ZXNzIScpO1xuXHRcdH0pO1xuXHRcdC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXG5cdFx0cmliYm9uSWNvbkVsLmFkZENsYXNzKCdteS1wbHVnaW4tcmliYm9uLWNsYXNzJyk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdGNvbnN0IHN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdTdGF0dXMgQmFyIFRleHQnKTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tc2FtcGxlLW1vZGFsLXNpbXBsZScsXG5cdFx0XHRuYW1lOiAnT3BlbiBzYW1wbGUgbW9kYWwgKHNpbXBsZSknLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmV3IEJ1bGxldFBvaW50SXNvbGF0b3JNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdC8vIFRoaXMgYWRkcyBhbiBlZGl0b3IgY29tbWFuZCB0aGF0IGNhbiBwZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG9uIHRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3NhbXBsZS1lZGl0b3ItY29tbWFuZCcsXG5cdFx0XHRuYW1lOiAnQnVsbGV0UG9pbnRJc29sYXRvciBlZGl0b3IgY29tbWFuZCcsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coZWRpdG9yLmdldFNlbGVjdGlvbigpKTtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oJ0J1bGxldFBvaW50SXNvbGF0b3IgRWRpdG9yIENvbW1hbmQnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvLyBUaGlzIGFkZHMgYSBjb21wbGV4IGNvbW1hbmQgdGhhdCBjYW4gY2hlY2sgd2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwIGFsbG93cyBleGVjdXRpb24gb2YgdGhlIGNvbW1hbmRcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXNhbXBsZS1tb2RhbC1jb21wbGV4Jyxcblx0XHRcdG5hbWU6ICdPcGVuIHNhbXBsZSBtb2RhbCAoY29tcGxleCknLFxuXHRcdFx0Y2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdC8vIENvbmRpdGlvbnMgdG8gY2hlY2tcblx0XHRcdFx0Y29uc3QgbWFya2Rvd25WaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKG1hcmtkb3duVmlldykge1xuXHRcdFx0XHRcdC8vIElmIGNoZWNraW5nIGlzIHRydWUsIHdlJ3JlIHNpbXBseSBcImNoZWNraW5nXCIgaWYgdGhlIGNvbW1hbmQgY2FuIGJlIHJ1bi5cblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyBmYWxzZSwgdGhlbiB3ZSB3YW50IHRvIGFjdHVhbGx5IHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cblx0XHRcdFx0XHRpZiAoIWNoZWNraW5nKSB7XG5cdFx0XHRcdFx0XHRuZXcgQnVsbGV0UG9pbnRJc29sYXRvck1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgb25seSBzaG93IHVwIGluIENvbW1hbmQgUGFsZXR0ZSB3aGVuIHRoZSBjaGVjayBmdW5jdGlvbiByZXR1cm5zIHRydWVcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEJ1bGxldFBvaW50SXNvbGF0b3JTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBJZiB0aGUgcGx1Z2luIGhvb2tzIHVwIGFueSBnbG9iYWwgRE9NIGV2ZW50cyAob24gcGFydHMgb2YgdGhlIGFwcCB0aGF0IGRvZXNuJ3QgYmVsb25nIHRvIHRoaXMgcGx1Z2luKVxuXHRcdC8vIFVzaW5nIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgd2hlbiB0aGlzIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIGFzeW5jIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuaXNvbGF0ZUJ1bGxldFBvaW50KGV2dCk7XG5cdFx0fSk7XG5cblx0XHQvLyBXaGVuIHJlZ2lzdGVyaW5nIGludGVydmFscywgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgY2xlYXIgdGhlIGludGVydmFsIHdoZW4gdGhlIHBsdWdpbiBpcyBkaXNhYmxlZC5cblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwod2luZG93LnNldEludGVydmFsKCgpID0+IGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpLCA1ICogNjAgKiAxMDAwKSk7XG5cdH1cblxuXHRhc3luYyBpc29sYXRlQnVsbGV0UG9pbnQoZXZ0OiBNb3VzZUV2ZW50KSB7XG5cdFx0XG5cdFx0aWYgKGV2dC5hbHRLZXkgJiYgZXZ0LmN0cmxLZXkgJiYgdGhpcy5nZXRCdWxsZXRQb2ludE5yKGV2dC50YXJnZXQucGFyZW50Tm9kZSkpIHtcblx0XHRcdFxuXHRcdFx0Y29uc29sZS5sb2coXCJCdWxsZXQgUG9pbnQgSXNvbGF0b3IgYWN0aXZhdGVkIHdpdGggQ3RybCtBbHQrQ2xpY2suXCIpO1xuXG5cdFx0XHQvLyBHZXQgc29tZSBtZXRhZGF0YS5cblx0XHRcdGNvbnN0IGZpbGVPcmlnaW4gPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5maWxlO1xuXG5cdFx0XHQvLyBHZXQgYWxsIHRoZSBidWxsZXQgYW5kIHN1YmJ1bGxldCBwb2ludHMuXG5cdFx0XHRjb25zdCBidWxsZXRQb2ludHNDb3VudCA9IHRoaXMuY291bnRCdWxsZXRQb2ludExpbmVzKGV2dC50YXJnZXQucGFyZW50Tm9kZSk7XG5cblx0XHRcdC8vIEdldCBjdXJyZW50IGFjdGl2ZSBsaW5lLlxuXHRcdFx0Y29uc3QgY3VycmVudEZvY3VzTGluZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0Q3Vyc29yKCkubGluZTtcblx0XHRcdGxldCByb290TGluZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0TGluZShjdXJyZW50Rm9jdXNMaW5lKTtcblxuXHRcdFx0Ly8gR2V0IHRoZSByb290IG9mZnNldCBhbmQgbm9ybWFsaXplIHRoZSBmaXJzdCBsaW5lLlxuXHRcdFx0Y29uc3Qgcm9vdE9mZnNldCA9IHJvb3RMaW5lPy5tYXRjaCgvXlxccyovKVswXS5sZW5ndGg7XG5cdFx0XHRpZiAocm9vdE9mZnNldCA+PSAxKVxuXHRcdFx0XHRyb290TGluZSA9IHJvb3RMaW5lLnN1YnN0cmluZyhyb290T2Zmc2V0KTtcblxuXHRcdFx0Ly8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBsaW5lcyBhZmZlY3RlZCBieSB0aGUgY2xpY2suXG5cdFx0XHRsZXQgbGluZXNUb0lzb2xhdGUgPSBbcm9vdExpbmVdO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDE7IGkgPCBidWxsZXRQb2ludHNDb3VudDsgaSsrKSB7XG5cblx0XHRcdFx0Ly8gR2V0IHRoZSBsaW5lLlxuXHRcdFx0XHRsZXQgbGluZVRvSXNvbGF0ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0TGluZShjdXJyZW50Rm9jdXNMaW5lICsgaSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBOb3JtYWxpemUgdGhlIGxlYWRpbmcgc3BhY2VzLlxuXHRcdFx0XHRpZiAocm9vdE9mZnNldCA+PSAxKSB7XG5cdFx0XHRcdFx0bGluZVRvSXNvbGF0ZSA9IGxpbmVUb0lzb2xhdGU/LnN1YnN0cmluZyhyb290T2Zmc2V0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFB1c2ggdGhlIGxpbmUgdG8gdGhlIGFycmF5LlxuXHRcdFx0XHRsaW5lc1RvSXNvbGF0ZS5wdXNoKGxpbmVUb0lzb2xhdGUpO1xuXHRcdFx0fVxuXHRcdFx0XG5cblx0XHRcdC8vIEpvaW4gdGhlIGxpbmVzIHRvIHVzZSB0aGVtIGluc2lkZSB0aGUgY3JlYXRlIGZ1bmN0aW9uIGxhdGVyLlxuXHRcdFx0bGV0IGJ1bGxldFBvaW50c1RleHQgPSBsaW5lc1RvSXNvbGF0ZS5qb2luKFwiXFxuXCIpO1xuXG5cdFx0XHQvLyBBZGQgc29tZSBmcm9udG1hdHRlci5cblx0XHRcdGNvbnN0IGZyb250bWF0dGVySnNvbiA9IHtcblx0XHRcdFx0XCJvcmlnaW5cIjogdGhpcy5hcHAud29ya3NwYWNlLmFjdGl2ZUVkaXRvcj8uZmlsZT8ucGF0aCxcblx0XHRcdFx0XCJsaW5lXCI6IGN1cnJlbnRGb2N1c0xpbmVcblx0XHRcdH1cblx0XHRcdGNvbnN0IGZyb250bWF0dGVyID0gdGhpcy5jb252ZXJ0SnNvblRvRnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXJKc29uKTtcblx0XHRcdGJ1bGxldFBvaW50c1RleHQgPSBmcm9udG1hdHRlciArIGJ1bGxldFBvaW50c1RleHQ7XG5cdFx0XHRcblx0XHRcdC8vIENyZWF0ZSB0aGUgdGVtcG9yYXJ5IGZpbGUgaWYgaXQgZG9lc250IGV4aXN0IG90aGVyd2lzZSBkZWxldGUgaXQgZmlyc3QuXG5cdFx0XHRjb25zdCBpc29sYXRlZEZpbGVOYW1lID0gXCJpc29sYXRlZC5tZFwiO1xuXHRcdFx0Y29uc3QgaXNvbGF0ZWRGaWxlQWJzdHJhY3QgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoaXNvbGF0ZWRGaWxlTmFtZSk7XG5cdFx0XHRpZiAoaXNvbGF0ZWRGaWxlQWJzdHJhY3QpXG5cdFx0XHRcdHRoaXMuYXBwLnZhdWx0LmRlbGV0ZShpc29sYXRlZEZpbGVBYnN0cmFjdCk7XG5cdFx0XHRcblx0XHRcdC8vIFdyaXRlIHRoZSBidWxsZXRzIHRvIHRoZSB0ZW1wb3JhcnkgZmlsZS5cblx0XHRcdGNvbnN0IGlzb2xhdGVkRmlsZSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShpc29sYXRlZEZpbGVOYW1lLCBidWxsZXRQb2ludHNUZXh0KTtcblxuXHRcdFx0Ly8gY29uc3QgbWV0YWRhdGEgPSB7IG9yaWdpbjogZmlsZU9yaWdpbiB9XG5cdFx0XHQvLyBjb25zdCB7IGNvbnRlbnQsIGRhdGEgfSA9IGZtKGlzb2xhdGVkRmlsZSlcblx0XHRcdHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihpc29sYXRlZEZpbGUsIChyZXMpID0+IGNvbnNvbGUubG9nKHJlcykpO1xuXHRcdFx0Ly8gbGV0IGZpbGVDYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGlzb2xhdGVkRmlsZSk7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhmaWxlQ2FjaGUpO1xuXHRcdFx0XG5cdFx0XHQvLyBDcmVhdGUgbmV3IGxlYWYgYW5kIG9wZW4gYSBmaWxlIHRoZXJlLlxuXHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShpc29sYXRlZEZpbGUpO1xuXHRcdFx0XG5cdFx0fVxuXHR9XG5cblx0Z2V0QnVsbGV0UG9pbnROcihlbGVtKSB7XG5cdFx0Y29uc3QgbWF0Y2ggPSBlbGVtLmNsYXNzTmFtZS5tYXRjaCgvSHlwZXJNRC1saXN0LWxpbmUtKFxcZCspLyk7XG5cdFx0cmV0dXJuIG1hdGNoID8gcGFyc2VJbnQobWF0Y2hbMV0pIDogbnVsbDtcblx0fVxuXG5cdGNvdW50QnVsbGV0UG9pbnRMaW5lcyhlbGVtKSB7XG5cblx0XHQvLyBTZXQgdGhlIHBhc3NlZCBlbGVtZW50IGFzIGluaXRpYWwgc2libGluZyBhbmQgaGV0IGl0cyBvZmZzZXQgbnVtYmVyLlxuXHRcdGxldCBzaWJsaW5nID0gZWxlbTtcblx0XHRjb25zdCByb290T2Zmc2V0ID0gdGhpcy5nZXRCdWxsZXRQb2ludE5yKHNpYmxpbmcpO1xuXG5cdFx0bGV0IHNpYmxpbmdDb3VudCA9IDE7XG5cdFx0d2hpbGUgKHNpYmxpbmcubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcblxuXG5cdFx0XHQvLyBTZXQgdGhlIHNpYmxpbmcgYXMgaXRzIG5leHQgc2libGluZy5cblx0XHRcdHNpYmxpbmcgPSBzaWJsaW5nLm5leHRTaWJsaW5nO1xuXHRcdFx0XG5cdFx0XHQvLyBJZiB0aGUgb2Zmc2V0IG51bWJlciBpcyBlcXVhbCBvciBsZXNzLCBicmVhayB0aGUgbG9vcC5cblx0XHRcdGNvbnN0IHNpYmxpbmdPZmZzZXQgPSB0aGlzLmdldEJ1bGxldFBvaW50TnIoc2libGluZyk7XG5cdFx0XHRpZiAocm9vdE9mZnNldCA+PSBzaWJsaW5nT2Zmc2V0KVxuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Ly8gSW5jcmVtZW50IHRoZSBzaWJsaW5ncyBjb3VudC5cblx0XHRcdHNpYmxpbmdDb3VudCsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBzaWJsaW5nQ291bnQ7XG5cdH1cblxuXHRjb252ZXJ0SnNvblRvRnJvbnRtYXR0ZXIob2JqLCBwZW5kaW5nTmV3bGluZTogYm9vbGVhbiA9IHRydWUpIHtcblx0XHRsZXQgZnJvbnRtYXR0ZXJBcnIgPSBPYmplY3Qua2V5cyhvYmopLm1hcCgoa2V5KSA9PiBgJHtrZXl9OiAke29ialtrZXldfWApO1xuXHRcdGZyb250bWF0dGVyQXJyLnB1c2goXCItLS1cIik7XG5cdFx0ZnJvbnRtYXR0ZXJBcnIudW5zaGlmdChcIi0tLVwiKTtcblx0XHRsZXQgZnJvbnRtYXR0ZXJUZXh0ID0gZnJvbnRtYXR0ZXJBcnIuam9pbihcIlxcblwiKVxuXHRcdHJldHVybiBwZW5kaW5nTmV3bGluZVxuXHRcdFx0PyBmcm9udG1hdHRlclRleHQgKyBcIlxcblwiXG5cdFx0XHQ6IGZyb250bWF0dGVyVGV4dDtcblx0fVxuXHRcblx0Ly8gb3BlbkZpbGVXaXRoT2JzaWRpYW5Qcm90b2NvbCh2YXVsdE5hbWUsIGZpbGVQYXRoKSB7XG5cdC8vIFx0Y29uc3QgZmlsZVVSSSA9IGVuY29kZVVSSShgb2JzaWRpYW46Ly9vcGVuP3ZhdWx0PSR7dmF1bHROYW1lfSZmaWxlPSR7ZmlsZVBhdGh9YCk7XG5cdC8vIFx0d2luZG93Lm9wZW4oZmlsZVVSSSk7XG5cdC8vIH1cblxuXHQvLyBvZmZzZXRDbGFzc05hbWVOcihjbGFzc05hbWUsIG9mZnNldCA9IC0xKSB7XG5cdC8vIFx0cmV0dXJuIGNsYXNzTmFtZVxuXHQvLyBcdFx0LnJlcGxhY2UoXG5cdC8vIFx0XHRcdC9IeXBlck1ELWxpc3QtbGluZS0oXFxkKykvLFxuXHQvLyBcdFx0XHQobWF0Y2gsIGxpbmVOdW1iZXIpID0+IHtcblx0Ly8gXHRcdFx0XHRjb25zdCBuZXdMaW5lTnVtYmVyID0gcGFyc2VJbnQobGluZU51bWJlcikgKyBvZmZzZXQ7XG5cdC8vIFx0XHRcdFx0Ly8gcmV0dXJuIGBIeXBlck1ELWxpc3QtbGluZS0xYDtcblx0Ly8gXHRcdFx0XHRyZXR1cm4gYEh5cGVyTUQtbGlzdC1saW5lLSR7bmV3TGluZU51bWJlcn1gO1xuXHQvLyBcdFx0XHR9XG5cdC8vIFx0XHQpO1xuXHQvLyB9XG5cblx0Ly8gb2Zmc2V0QnVsbGV0UG9pbnQoZWxlbTogSFRNTEVsZW1lbnQsIG9mZnNldDogbnVtYmVyID0gLTEpIHtcblx0Ly8gXHRjb25zdCBpbmRlbnROciA9IHRoaXMuZ2V0QnVsbGV0UG9pbnROcihlbGVtKTtcblx0Ly8gXHQvLyBjb25zdCBidWZmZXJFbGVtZW50ID0gZWxlbS5xdWVyeVNlbGVjdG9yKCcuY20td2lkZ2V0QnVmZmVyJyk7XG5cdC8vIFx0Ly8gaWYgKGJ1ZmZlckVsZW1lbnQpIHtcblx0Ly8gXHQvLyAgIGNvbnN0IHJlbWFpbmluZ0VsZW1lbnRzID0gQXJyYXkuZnJvbShidWZmZXJFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5jaGlsZHJlbik7XG5cdC8vIFx0Ly8gICBlbGVtLnJlcGxhY2VDaGlsZHJlbiguLi5yZW1haW5pbmdFbGVtZW50cyk7XG5cdC8vIFx0Ly8gfVxuXHQvLyBcdGNvbnNvbGUubG9nKGVsZW0pO1xuXHQvLyBcdGNvbnNvbGUubG9nKGVsZW0udGV4dENvbnRlbnQ/LnRyaW0oKSk7XG5cdC8vIFx0Ly8gcmV0dXJuIGNsYXNzTmFtZVxuXHQvLyBcdC8vIFx0LnJlcGxhY2UoXG5cdC8vIFx0Ly8gXHRcdC9IeXBlck1ELWxpc3QtbGluZS0oXFxkKykvLFxuXHQvLyBcdC8vIFx0XHQobWF0Y2gsIGxpbmVOdW1iZXIpID0+IHtcblx0Ly8gXHQvLyBcdFx0XHRjb25zdCBuZXdMaW5lTnVtYmVyID0gcGFyc2VJbnQobGluZU51bWJlcikgKyBvZmZzZXQ7XG5cdC8vIFx0Ly8gXHRcdFx0cmV0dXJuIGBIeXBlck1ELWxpc3QtbGluZS0xYDtcblx0Ly8gXHQvLyBcdFx0XHQvLyByZXR1cm4gYEh5cGVyTUQtbGlzdC1saW5lLSR7bmV3TGluZU51bWJlcn1gO1xuXHQvLyBcdC8vIFx0XHR9XG5cdC8vIFx0Ly8gXHQpO1xuXHQvLyB9XG5cblxuXHQvLyAvLyBSZXR1cm5zIGEgbGlzdCBvZiBkaXYgZWxlbWVudHMgdGhhdCBhcmVcblx0Ly8gZmluZEFsbEJ1bGxldFBvaW50cyhlbGVtKSB7XG5cblx0Ly8gXHQvLyBTZXQgdGhlIHBhc3NlZCBlbGVtZW50IGFzIGluaXRpYWwgc2libGluZyBhbmQgaGV0IGl0cyBvZmZzZXQgbnVtYmVyLlxuXHQvLyBcdGxldCBzaWJsaW5nID0gZWxlbTtcblx0Ly8gXHRjb25zdCByb290T2Zmc2V0ID0gdGhpcy5nZXRCdWxsZXRQb2ludE5yKHNpYmxpbmcpO1xuXG5cdC8vIFx0Ly8gSXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGUgbmV4dCBzaWJsaW5ncyBhcyBsb25nIGFzIGEgbmV4dCBvbmUgZXhpc3RzLlxuXHQvLyBcdGxldCBzaWJsaW5ncyA9IFt7XG5cdC8vIFx0XHRvZmZzZXQ6IHJvb3RPZmZzZXQsXG5cdC8vIFx0XHRidWxsZXQ6IHNpYmxpbmcudGV4dENvbnRlbnQudHJpbSgpLFxuXHQvLyBcdFx0ZWxlbWVudDogc2libGluZ1xuXHQvLyBcdH1dO1xuXHQvLyBcdHdoaWxlIChzaWJsaW5nLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cblxuXHQvLyBcdFx0Ly8gU2V0IHRoZSBzaWJsaW5nIGFzIGl0cyBuZXh0IHNpYmxpbmcuXG5cdC8vIFx0XHRzaWJsaW5nID0gc2libGluZy5uZXh0U2libGluZztcblx0XHRcdFxuXHQvLyBcdFx0Ly8gSWYgdGhlIG9mZnNldCBudW1iZXIgaXMgZXF1YWwgb3IgbGVzcywgYnJlYWsgdGhlIGxvb3AuXG5cdC8vIFx0XHRjb25zdCBzaWJsaW5nT2Zmc2V0ID0gdGhpcy5nZXRCdWxsZXRQb2ludE5yKHNpYmxpbmcpO1xuXHQvLyBcdFx0aWYgKHJvb3RPZmZzZXQgPj0gc2libGluZ09mZnNldClcblx0Ly8gXHRcdFx0YnJlYWs7XG5cblx0Ly8gXHRcdC8vIFJlcGxhY2UgdGhlIG9mZnNldCBudW1iZXIgaW4gdGhlIGNsYXNzIG5hbWUgb2YgdGhlIGVsZW1lbnQgaWYgdGhlIHJvb3RPZmZzZXQgaXMgbm90IGFscmVhZHkgMS5cblx0Ly8gXHRcdGlmIChyb290T2Zmc2V0ID4gMSkge1xuXHQvLyBcdFx0XHRjb25zdCBuZXdDbGFzc2VzID0gdGhpcy5vZmZzZXRDbGFzc05hbWVOcihzaWJsaW5nLmNsYXNzTmFtZSk7XG5cdC8vIFx0XHRcdHNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSguLi5zaWJsaW5nLmNsYXNzTGlzdCk7XG5cdC8vIFx0XHRcdG5ld0NsYXNzZXMuc3BsaXQoXCIgXCIpLmZvckVhY2goYyA9PiBzaWJsaW5nLmNsYXNzTGlzdC5hZGQoYykpO1xuXHQvLyBcdFx0fVxuXG5cdC8vIFx0XHRzaWJsaW5ncy5wdXNoKHtcblx0Ly8gXHRcdFx0b2Zmc2V0OiBzaWJsaW5nT2Zmc2V0LFxuXHQvLyBcdFx0XHRidWxsZXQ6IHNpYmxpbmcudGV4dENvbnRlbnQudHJpbSgpLFxuXHQvLyBcdFx0XHRlbGVtZW50OiBzaWJsaW5nXG5cdC8vIFx0XHR9KTtcblx0Ly8gXHR9XG5cblx0Ly8gXHRyZXR1cm4ge1xuXHQvLyBcdFx0b2Zmc2V0OiByb290T2Zmc2V0LFxuXHQvLyBcdFx0b3JpZ2luYWxGaWxlOiB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpPy5wYXRoLFxuXHQvLyBcdFx0bGluZU5yOiB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5lZGl0b3IsXG5cdC8vIFx0XHRlbGVtZW50czogc2libGluZ3Ncblx0Ly8gXHR9XG5cdC8vIH1cblxuXHRvbnVubG9hZCgpIHtcblxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgQnVsbGV0UG9pbnRJc29sYXRvck1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCkge1xuXHRcdHN1cGVyKGFwcCk7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5zZXRUZXh0KCdXb2FoIScpO1xuXHR9XG5cblx0b25DbG9zZSgpIHtcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cblxuY2xhc3MgQnVsbGV0UG9pbnRJc29sYXRvclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBCdWxsZXRQb2ludElzb2xhdG9yO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEJ1bGxldFBvaW50SXNvbGF0b3IpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnU2V0dGluZ3MgZm9yIG15IGF3ZXNvbWUgcGx1Z2luLid9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1NldHRpbmcgIzEnKVxuXHRcdFx0LnNldERlc2MoJ0l0XFwncyBhIHNlY3JldCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciB5b3VyIHNlY3JldCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5teVNldHRpbmcpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnU2VjcmV0OiAnICsgdmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm15U2V0dGluZyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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
