/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => BulletPointIsolator
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  isolationFilePath: "isolation.md"
};
var needsWriteBackUnloadEvent = true;
var lastOpenFilePath;
var BulletPointIsolator = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    console.log("Settings", this.settings);
    const ribbonIconEl = this.addRibbonIcon("dice", "BulletPointIsolator Plugin", (evt) => {
      new import_obsidian.Notice("This is a notice i guess!");
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addCommand({
      id: "open-sample-modal-simple",
      name: "Open sample modal (simple)",
      callback: () => {
        new BulletPointIsolatorModal(this.app).open();
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "BulletPointIsolator editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("BulletPointIsolator Editor Command");
      }
    });
    this.addCommand({
      id: "open-sample-modal-complex",
      name: "Open sample modal (complex)",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            new BulletPointIsolatorModal(this.app).open();
          }
          return true;
        }
      }
    });
    this.addSettingTab(new BulletPointIsolatorSettingTab(this.app, this));
    this.app.workspace.on("file-open", async (openedFile) => {
      if (!lastOpenFilePath)
        lastOpenFilePath = openedFile == null ? void 0 : openedFile.path;
      if (needsWriteBackUnloadEvent) {
        if (lastOpenFilePath === this.settings.isolationFilePath && (openedFile == null ? void 0 : openedFile.path) !== this.settings.isolationFilePath) {
          const isolationFile = this.app.vault.getFiles().find((file) => file.path === this.settings.isolationFilePath);
          if (isolationFile) {
            new import_obsidian.Notice("Bullet Point Isolator: Isolation activated automatically.");
            await this.writeBackModifiedBulletPoint(null, false);
          }
        }
      }
      lastOpenFilePath = openedFile == null ? void 0 : openedFile.path;
      needsWriteBackUnloadEvent = true;
    });
    this.registerDomEvent(document, "click", async (evt) => {
      var _a, _b;
      if (evt.altKey && evt.ctrlKey && this.getBulletPointNr(evt.target.parentNode)) {
        const fileOriginPath = (_b = (_a = this.app.workspace.activeEditor) == null ? void 0 : _a.file) == null ? void 0 : _b.path;
        if (!fileOriginPath) {
          this.showFailNotice("File origin is either null or undefined.");
        } else {
          if (fileOriginPath === this.settings.isolationFilePath) {
            new import_obsidian.Notice("Bullet Point Isolator: Write back activated manually.");
            console.log("Bullet Point Isolator: Write back activated manually.");
            await this.writeBackModifiedBulletPoint(evt, true);
          } else {
            new import_obsidian.Notice("Bullet Point Isolator: Isolation activated manually.");
            console.log("Bullet Point Isolator: Isolation activated manually.");
            await this.isolateBulletPoint(evt);
          }
        }
      }
    });
  }
  async openFileWithoutEvent(file) {
    needsWriteBackUnloadEvent = false;
    await this.app.workspace.getLeaf().openFile(file);
    needsWriteBackUnloadEvent = true;
  }
  async isolateBulletPoint(evt) {
    var _a, _b, _c, _d, _e, _f, _g, _h;
    const currentFocusLine = (_b = (_a = this.app.workspace.activeEditor) == null ? void 0 : _a.editor) == null ? void 0 : _b.getCursor().line;
    if (currentFocusLine === void 0 || currentFocusLine === null) {
      this.showFailNotice("No line in focus.");
      return;
    }
    const isBulletPoint = this.getBulletPointNr(evt.target.parentNode);
    if (isBulletPoint === null) {
      this.showFailNotice("Line in focus doesn't have bullet point.");
      return;
    }
    const bulletPointsCount = this.countBulletPointLines(evt.target.parentNode);
    let rootLine = (_d = (_c = this.app.workspace.activeEditor) == null ? void 0 : _c.editor) == null ? void 0 : _d.getLine(currentFocusLine);
    const rootOffset = rootLine == null ? void 0 : rootLine.match(/^\s*/)[0].length;
    if (rootOffset >= 1)
      rootLine = rootLine.substring(rootOffset);
    let linesToIsolate = [rootLine];
    for (let i = 1; i < bulletPointsCount; i++) {
      let lineToIsolate = (_f = (_e = this.app.workspace.activeEditor) == null ? void 0 : _e.editor) == null ? void 0 : _f.getLine(currentFocusLine + i);
      if (rootOffset >= 1) {
        lineToIsolate = lineToIsolate == null ? void 0 : lineToIsolate.substring(rootOffset);
      }
      linesToIsolate.push(lineToIsolate);
    }
    let bulletPointsText = linesToIsolate.join("\n");
    const frontmatterJson = {
      "origin": (_h = (_g = this.app.workspace.activeEditor) == null ? void 0 : _g.file) == null ? void 0 : _h.path,
      "startLine": currentFocusLine,
      "endLine": currentFocusLine + bulletPointsCount - 1,
      "offset": rootOffset
    };
    const frontmatter = this.convertJsonToFrontmatter(frontmatterJson);
    bulletPointsText = frontmatter + bulletPointsText;
    const isolatedFileAbstract = this.app.vault.getAbstractFileByPath(this.settings.isolationFilePath);
    if (isolatedFileAbstract)
      this.app.vault.delete(isolatedFileAbstract);
    const isolatedFile = await this.app.vault.create(this.settings.isolationFilePath, bulletPointsText);
    await this.app.workspace.getLeaf().openFile(isolatedFile);
  }
  async writeBackModifiedBulletPoint(evt, openOriginFileAfter) {
    if (evt) {
      const bulletPointNr = this.getBulletPointNr(evt.target.parentNode);
      if (bulletPointNr === null) {
        this.showFailNotice("Line in focus doesn't have bullet point.");
        return;
      } else if (bulletPointNr !== 1) {
        this.showFailNotice("Line in focus isn't root bullet point.");
        return;
      }
    }
    const isolationFile = this.app.vault.getFiles().find((file) => file.path === this.settings.isolationFilePath);
    if (!isolationFile) {
      this.showFailNotice("No isolation file.");
      return;
    }
    const isolationFileContent = await this.app.vault.read(isolationFile);
    let isolationFileFm;
    await this.app.fileManager.processFrontMatter(isolationFile, (frontmatter) => isolationFileFm = frontmatter).catch((_) => this.showFailNotice("Processing frontmatter."));
    if (!isolationFileFm) {
      this.showFailNotice("Couldn't process frontmatter.");
      return;
    }
    const frontmatterMatch = isolationFileContent.match(/^---\n([\s\S]*?)\n---\n/);
    if (!frontmatterMatch) {
      this.showFailNotice("No text to write back from the isolation file.");
      return;
    }
    const isolationFileText = isolationFileContent.replace(frontmatterMatch[0], "");
    const isolationFileLines = isolationFileText.split("\n");
    const offsetIsolationFileLines = isolationFileLines.map((line) => "	".repeat(isolationFileFm.offset) + line);
    const originFilePath = isolationFileFm.origin;
    const originFile = this.app.vault.getFiles().find((file) => file.path === originFilePath);
    if (!originFile) {
      this.showFailNotice("Origin file doesn't exist.");
    }
    const originFileContent = await this.app.vault.read(originFile);
    const originFileLines = originFileContent.split("\n");
    const originLinesToRemoveRange = isolationFileFm.endLine + 1 - isolationFileFm.startLine;
    originFileLines.splice(isolationFileFm.startLine, originLinesToRemoveRange, ...offsetIsolationFileLines);
    const modifiedOriginContent = originFileLines.join("\n");
    await this.app.vault.modify(originFile, modifiedOriginContent);
    if (openOriginFileAfter) {
      needsWriteBackUnloadEvent = false;
      await this.app.workspace.getLeaf().openFile(originFile);
    }
    await this.app.vault.delete(this.app.vault.getAbstractFileByPath(this.settings.isolationFilePath));
  }
  showFailNotice(msg) {
    new import_obsidian.Notice("BulletPointIsolation failed: " + msg);
  }
  getBulletPointNr(elem) {
    const match = elem.className.match(/HyperMD-list-line-(\d+)/);
    return match ? parseInt(match[1]) : null;
  }
  countBulletPointLines(elem) {
    let sibling = elem;
    const rootOffset = this.getBulletPointNr(sibling);
    let siblingCount = 1;
    while (sibling.nextSibling !== null) {
      sibling = sibling.nextSibling;
      const siblingOffset = this.getBulletPointNr(sibling);
      if (rootOffset >= siblingOffset)
        break;
      siblingCount++;
    }
    return siblingCount;
  }
  convertJsonToFrontmatter(obj, pendingNewline = true) {
    let frontmatterArr = Object.keys(obj).map((key) => `${key}: ${obj[key]}`);
    frontmatterArr.push("---");
    frontmatterArr.unshift("---");
    let frontmatterText = frontmatterArr.join("\n");
    return pendingNewline ? frontmatterText + "\n" : frontmatterText;
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var BulletPointIsolatorModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var BulletPointIsolatorSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Bullet Point Isolator Plugin - Settings" });
    new import_obsidian.Setting(containerEl).setName("Isolation file path").setDesc("The path where the isolation file should be created.").addText((text) => text.setPlaceholder("The path here...").setValue(this.plugin.settings.isolationFilePath).onChange(async (value) => {
      this.plugin.settings.isolationFilePath = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBFZGl0b3JQb3NpdGlvbiwgVGV4dEZpbGVWaWV3LCBEYXRhV3JpdGVPcHRpb25zLCBURmlsZSwgVEFic3RyYWN0RmlsZSB9IGZyb20gJ29ic2lkaWFuJztcblxuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcblxuaW50ZXJmYWNlIEJ1bGxldFBvaW50SXNvbGF0b3JTZXR0aW5ncyB7XG5cdGlzb2xhdGlvbkZpbGVQYXRoOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEJ1bGxldFBvaW50SXNvbGF0b3JTZXR0aW5ncyA9IHtcblx0aXNvbGF0aW9uRmlsZVBhdGg6IFwiaXNvbGF0aW9uLm1kXCJcbn1cblxubGV0IG5lZWRzV3JpdGVCYWNrVW5sb2FkRXZlbnQgPSB0cnVlO1xubGV0IGxhc3RPcGVuRmlsZVBhdGg7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1bGxldFBvaW50SXNvbGF0b3IgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQnVsbGV0UG9pbnRJc29sYXRvclNldHRpbmdzO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdGNvbnNvbGUubG9nKFwiU2V0dGluZ3NcIiwgdGhpcy5zZXR0aW5ncyk7XG5cblx0XHQvLyBUaGlzIGNyZWF0ZXMgYW4gaWNvbiBpbiB0aGUgbGVmdCByaWJib24uXG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKCdkaWNlJywgJ0J1bGxldFBvaW50SXNvbGF0b3IgUGx1Z2luJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0Ly8gQ2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBpY29uLlxuXHRcdFx0bmV3IE5vdGljZSgnVGhpcyBpcyBhIG5vdGljZSBpIGd1ZXNzIScpO1xuXHRcdH0pO1xuXHRcdC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXG5cdFx0cmliYm9uSWNvbkVsLmFkZENsYXNzKCdteS1wbHVnaW4tcmliYm9uLWNsYXNzJyk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdGNvbnN0IHN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdTdGF0dXMgQmFyIFRleHQnKTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tc2FtcGxlLW1vZGFsLXNpbXBsZScsXG5cdFx0XHRuYW1lOiAnT3BlbiBzYW1wbGUgbW9kYWwgKHNpbXBsZSknLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0bmV3IEJ1bGxldFBvaW50SXNvbGF0b3JNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdC8vIFRoaXMgYWRkcyBhbiBlZGl0b3IgY29tbWFuZCB0aGF0IGNhbiBwZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG9uIHRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3NhbXBsZS1lZGl0b3ItY29tbWFuZCcsXG5cdFx0XHRuYW1lOiAnQnVsbGV0UG9pbnRJc29sYXRvciBlZGl0b3IgY29tbWFuZCcsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coZWRpdG9yLmdldFNlbGVjdGlvbigpKTtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oJ0J1bGxldFBvaW50SXNvbGF0b3IgRWRpdG9yIENvbW1hbmQnKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvLyBUaGlzIGFkZHMgYSBjb21wbGV4IGNvbW1hbmQgdGhhdCBjYW4gY2hlY2sgd2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwIGFsbG93cyBleGVjdXRpb24gb2YgdGhlIGNvbW1hbmRcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdvcGVuLXNhbXBsZS1tb2RhbC1jb21wbGV4Jyxcblx0XHRcdG5hbWU6ICdPcGVuIHNhbXBsZSBtb2RhbCAoY29tcGxleCknLFxuXHRcdFx0Y2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdC8vIENvbmRpdGlvbnMgdG8gY2hlY2tcblx0XHRcdFx0Y29uc3QgbWFya2Rvd25WaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKG1hcmtkb3duVmlldykge1xuXHRcdFx0XHRcdC8vIElmIGNoZWNraW5nIGlzIHRydWUsIHdlJ3JlIHNpbXBseSBcImNoZWNraW5nXCIgaWYgdGhlIGNvbW1hbmQgY2FuIGJlIHJ1bi5cblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyBmYWxzZSwgdGhlbiB3ZSB3YW50IHRvIGFjdHVhbGx5IHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cblx0XHRcdFx0XHRpZiAoIWNoZWNraW5nKSB7XG5cdFx0XHRcdFx0XHRuZXcgQnVsbGV0UG9pbnRJc29sYXRvck1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgb25seSBzaG93IHVwIGluIENvbW1hbmQgUGFsZXR0ZSB3aGVuIHRoZSBjaGVjayBmdW5jdGlvbiByZXR1cm5zIHRydWVcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEJ1bGxldFBvaW50SXNvbGF0b3JTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHQvLyBTZXQgdGhlIG9uIGZpbGUtb3BlbiBldmVudCB0aGF0IGNoZWNrcyBpZiB3ZSB3YW50IHRvIHdyaXRlIGJhY2sgdGhlIGJ1bGxldCBwb2ludC5cblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW9wZW5cIiwgYXN5bmMgKG9wZW5lZEZpbGUpID0+IHtcblxuXHRcdFx0Ly8gU2V0IHRoZSBsYXN0IG9wZW5lZCBmaWxlIHRvIHRoZSBjdXJyZW50IGZpbGUuXG5cdFx0XHRpZiAoIWxhc3RPcGVuRmlsZVBhdGgpXG5cdFx0XHRcdGxhc3RPcGVuRmlsZVBhdGggPSBvcGVuZWRGaWxlPy5wYXRoO1xuXHRcdFx0XG5cdFx0XHQvLyBDaGVjayBpZiB0aGlzIHBhcnQgb2YgdGhlIGV2ZW50IGlzIGN1cnJlbnRseSBibG9ja2VkLlxuXHRcdFx0aWYgKG5lZWRzV3JpdGVCYWNrVW5sb2FkRXZlbnQpIHtcblxuXHRcdFx0XHQvLyBDaGVja3MgdGhhdCB3ZSBqdXN0IHN3aXRjaGVkIGZyb20gdGhlIGlzb2xhdGlvbiBmaWxlIHRvIGFub3RoZXIgZmlsZS5cblx0XHRcdFx0aWYgKGxhc3RPcGVuRmlsZVBhdGggPT09IHRoaXMuc2V0dGluZ3MuaXNvbGF0aW9uRmlsZVBhdGggJiYgb3BlbmVkRmlsZT8ucGF0aCAhPT0gdGhpcy5zZXR0aW5ncy5pc29sYXRpb25GaWxlUGF0aCkge1xuXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgdGhhdCB0aGUgaXNvbGF0aW9uIGZpbGUgZXhpc3RzLlxuXHRcdFx0XHRcdGNvbnN0IGlzb2xhdGlvbkZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpLmZpbmQoZmlsZSA9PiBmaWxlLnBhdGggPT09IHRoaXMuc2V0dGluZ3MuaXNvbGF0aW9uRmlsZVBhdGgpO1xuXHRcdFx0XHRcdGlmIChpc29sYXRpb25GaWxlKSB7XG5cblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJCdWxsZXQgUG9pbnQgSXNvbGF0b3I6IElzb2xhdGlvbiBhY3RpdmF0ZWQgYXV0b21hdGljYWxseS5cIik7XG5cblx0XHRcdFx0XHRcdC8vIFdyaXRlIGJhY2suXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLndyaXRlQmFja01vZGlmaWVkQnVsbGV0UG9pbnQobnVsbCwgZmFsc2UpO1xuXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBuZXcgbGFzdCBvcGVuZWQgZmlsZSBwYXRoIHRvIHRoZSBjdXJyZW50bHkgb3BlbmVkIGZpbGUuXG5cdFx0XHRsYXN0T3BlbkZpbGVQYXRoID0gb3BlbmVkRmlsZT8ucGF0aDtcblx0XHRcdG5lZWRzV3JpdGVCYWNrVW5sb2FkRXZlbnQgPSB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Ly8gUmVnaXN0ZXIgYSBET00gb25jbGljayBldmVudCBmb3IgaWYgaXNvbGF0ZSBvciB3cml0ZSBiYWNrIGEgYnVsbGV0IHBvaW50LlxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgYXN5bmMgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0aWYgKGV2dC5hbHRLZXkgJiYgZXZ0LmN0cmxLZXkgJiYgdGhpcy5nZXRCdWxsZXRQb2ludE5yKGV2dC50YXJnZXQucGFyZW50Tm9kZSkpIHtcblxuXHRcdFx0XHQvLyBHZXQgc29tZSBpbmZvcyBhYm91dCB0aGUgZmlsZSBpbiBmb2N1cy5cblx0XHRcdFx0Y29uc3QgZmlsZU9yaWdpblBhdGggPSB0aGlzLmFwcC53b3Jrc3BhY2UuYWN0aXZlRWRpdG9yPy5maWxlPy5wYXRoO1xuXG5cdFx0XHRcdC8vIENoZWNrIGlmIHRoZSBmaWxlIGlzIGRlZmluZWQgb3Igbm90LlxuXHRcdFx0XHRpZiAoIWZpbGVPcmlnaW5QYXRoKSB7XG5cblx0XHRcdFx0XHR0aGlzLnNob3dGYWlsTm90aWNlKFwiRmlsZSBvcmlnaW4gaXMgZWl0aGVyIG51bGwgb3IgdW5kZWZpbmVkLlwiKTtcblx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBpZiB0aGUgZmlsZSBvcmlnaW4gaXMgYW55IGZpbGUgb3IgdGhlIGlzb2xhdGlvbiBmaWxlLlxuXHRcdFx0XHRcdGlmIChmaWxlT3JpZ2luUGF0aCA9PT0gdGhpcy5zZXR0aW5ncy5pc29sYXRpb25GaWxlUGF0aCkge1xuXHRcdFx0XHRcdFx0bmV3IE5vdGljZShcIkJ1bGxldCBQb2ludCBJc29sYXRvcjogV3JpdGUgYmFjayBhY3RpdmF0ZWQgbWFudWFsbHkuXCIpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJCdWxsZXQgUG9pbnQgSXNvbGF0b3I6IFdyaXRlIGJhY2sgYWN0aXZhdGVkIG1hbnVhbGx5LlwiKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMud3JpdGVCYWNrTW9kaWZpZWRCdWxsZXRQb2ludChldnQsIHRydWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJCdWxsZXQgUG9pbnQgSXNvbGF0b3I6IElzb2xhdGlvbiBhY3RpdmF0ZWQgbWFudWFsbHkuXCIpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJCdWxsZXQgUG9pbnQgSXNvbGF0b3I6IElzb2xhdGlvbiBhY3RpdmF0ZWQgbWFudWFsbHkuXCIpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5pc29sYXRlQnVsbGV0UG9pbnQoZXZ0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gLy8gV2hlbiByZWdpc3RlcmluZyBpbnRlcnZhbHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGNsZWFyIHRoZSBpbnRlcnZhbCB3aGVuIHRoZSBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0Ly8gdGhpcy5yZWdpc3RlckludGVydmFsKHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKSwgNSAqIDYwICogMTAwMCkpO1xuXHR9XG5cdFxuXG5cdGFzeW5jIG9wZW5GaWxlV2l0aG91dEV2ZW50KGZpbGU6IFRGaWxlIHwgVEFic3RyYWN0RmlsZSkge1xuXHRcdG5lZWRzV3JpdGVCYWNrVW5sb2FkRXZlbnQgPSBmYWxzZTtcblx0XHRhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKGZpbGUpO1xuXHRcdG5lZWRzV3JpdGVCYWNrVW5sb2FkRXZlbnQgPSB0cnVlO1xuXHR9XG5cblx0YXN5bmMgaXNvbGF0ZUJ1bGxldFBvaW50KGV2dDogTW91c2VFdmVudCkge1xuXG5cdFx0Y29uc3QgY3VycmVudEZvY3VzTGluZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0Q3Vyc29yKCkubGluZTtcblxuXHRcdC8vIEEgc2VsZWN0ZWQgbGluZSBpcyByZXF1aXJlZC5cblx0XHRpZiAoY3VycmVudEZvY3VzTGluZSA9PT0gdW5kZWZpbmVkIHx8IGN1cnJlbnRGb2N1c0xpbmUgPT09IG51bGwpIHtcblx0XHRcdHRoaXMuc2hvd0ZhaWxOb3RpY2UoXCJObyBsaW5lIGluIGZvY3VzLlwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBUaGUgc2VsZWN0ZWQgZmlsZSBtdXN0IGNvbnRhaW4gYSBidWxsZXQgcG9pbnQuXG5cdFx0Y29uc3QgaXNCdWxsZXRQb2ludCA9IHRoaXMuZ2V0QnVsbGV0UG9pbnROcihldnQudGFyZ2V0LnBhcmVudE5vZGUpO1xuXHRcdGlmIChpc0J1bGxldFBvaW50ID09PSBudWxsKSB7XG5cdFx0XHR0aGlzLnNob3dGYWlsTm90aWNlKFwiTGluZSBpbiBmb2N1cyBkb2Vzbid0IGhhdmUgYnVsbGV0IHBvaW50LlwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Ly8gR2V0IGFsbCB0aGUgYnVsbGV0IGFuZCBzdWJidWxsZXQgcG9pbnRzLlxuXHRcdGNvbnN0IGJ1bGxldFBvaW50c0NvdW50ID0gdGhpcy5jb3VudEJ1bGxldFBvaW50TGluZXMoZXZ0LnRhcmdldC5wYXJlbnROb2RlKTtcblxuXHRcdC8vIEdldCBjdXJyZW50IGFjdGl2ZSBsaW5lLlxuXHRcdGxldCByb290TGluZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0TGluZShjdXJyZW50Rm9jdXNMaW5lKTtcblxuXHRcdC8vIEdldCB0aGUgcm9vdCBvZmZzZXQgYW5kIG5vcm1hbGl6ZSB0aGUgZmlyc3QgbGluZS5cblx0XHRjb25zdCByb290T2Zmc2V0ID0gcm9vdExpbmU/Lm1hdGNoKC9eXFxzKi8pWzBdLmxlbmd0aDtcblx0XHRpZiAocm9vdE9mZnNldCA+PSAxKVxuXHRcdFx0cm9vdExpbmUgPSByb290TGluZS5zdWJzdHJpbmcocm9vdE9mZnNldCk7XG5cblx0XHQvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGxpbmVzIGFmZmVjdGVkIGJ5IHRoZSBjbGljay5cblx0XHRsZXQgbGluZXNUb0lzb2xhdGUgPSBbcm9vdExpbmVdO1xuXHRcdGZvciAobGV0IGkgPSAxOyBpIDwgYnVsbGV0UG9pbnRzQ291bnQ7IGkrKykge1xuXG5cdFx0XHQvLyBHZXQgdGhlIGxpbmUuXG5cdFx0XHRsZXQgbGluZVRvSXNvbGF0ZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmVkaXRvcj8uZ2V0TGluZShjdXJyZW50Rm9jdXNMaW5lICsgaSk7XG5cblx0XHRcdC8vIE5vcm1hbGl6ZSB0aGUgbGVhZGluZyBzcGFjZXMgYW5kIGlmIGl0IGlzIGEgc3BhY2UgdGhlbiByZXBsYWNlIGl0IHdpdGggdGFicy5cblx0XHRcdGlmIChyb290T2Zmc2V0ID49IDEpIHtcblx0XHRcdFx0bGluZVRvSXNvbGF0ZSA9IGxpbmVUb0lzb2xhdGU/LnN1YnN0cmluZyhyb290T2Zmc2V0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHVzaCB0aGUgbGluZSB0byB0aGUgYXJyYXkuXG5cdFx0XHRsaW5lc1RvSXNvbGF0ZS5wdXNoKGxpbmVUb0lzb2xhdGUpO1xuXHRcdH1cblxuXHRcdC8vIEpvaW4gdGhlIGxpbmVzIHRvIHVzZSB0aGVtIGluc2lkZSB0aGUgY3JlYXRlIGZ1bmN0aW9uIGxhdGVyLlxuXHRcdGxldCBidWxsZXRQb2ludHNUZXh0ID0gbGluZXNUb0lzb2xhdGUuam9pbihcIlxcblwiKTtcblxuXHRcdC8vIEFkZCBzb21lIGZyb250bWF0dGVyIHRvIHRoZSBidWxsZXRwb2ludCB0byBjb3B5LlxuXHRcdGNvbnN0IGZyb250bWF0dGVySnNvbiA9IHtcblx0XHRcdFwib3JpZ2luXCI6IHRoaXMuYXBwLndvcmtzcGFjZS5hY3RpdmVFZGl0b3I/LmZpbGU/LnBhdGgsXG5cdFx0XHRcInN0YXJ0TGluZVwiOiBjdXJyZW50Rm9jdXNMaW5lLFxuXHRcdFx0XCJlbmRMaW5lXCI6IGN1cnJlbnRGb2N1c0xpbmUgKyBidWxsZXRQb2ludHNDb3VudCAtIDEsXG5cdFx0XHRcIm9mZnNldFwiOiByb290T2Zmc2V0XG5cdFx0fVxuXHRcdGNvbnN0IGZyb250bWF0dGVyID0gdGhpcy5jb252ZXJ0SnNvblRvRnJvbnRtYXR0ZXIoZnJvbnRtYXR0ZXJKc29uKTtcblx0XHRidWxsZXRQb2ludHNUZXh0ID0gZnJvbnRtYXR0ZXIgKyBidWxsZXRQb2ludHNUZXh0O1xuXG5cdFx0Ly8gQ3JlYXRlIHRoZSB0ZW1wb3JhcnkgZmlsZSBpZiBpdCBkb2VzbnQgZXhpc3Qgb3RoZXJ3aXNlIGRlbGV0ZSBpdCBmaXJzdC5cblx0XHRjb25zdCBpc29sYXRlZEZpbGVBYnN0cmFjdCA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLmlzb2xhdGlvbkZpbGVQYXRoKTtcblx0XHRpZiAoaXNvbGF0ZWRGaWxlQWJzdHJhY3QpXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5kZWxldGUoaXNvbGF0ZWRGaWxlQWJzdHJhY3QpO1xuXG5cdFx0Ly8gV3JpdGUgdGhlIGJ1bGxldHMgdG8gdGhlIHRlbXBvcmFyeSBmaWxlLlxuXHRcdGNvbnN0IGlzb2xhdGVkRmlsZSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZSh0aGlzLnNldHRpbmdzLmlzb2xhdGlvbkZpbGVQYXRoLCBidWxsZXRQb2ludHNUZXh0KTtcblxuXHRcdC8vIENyZWF0ZSBuZXcgbGVhZiBhbmQgb3BlbiBhIGZpbGUgdGhlcmUuXG5cdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShpc29sYXRlZEZpbGUpO1xuXG5cdH1cblxuXHRhc3luYyB3cml0ZUJhY2tNb2RpZmllZEJ1bGxldFBvaW50KGV2dDogTW91c2VFdmVudCB8IG51bGwsIG9wZW5PcmlnaW5GaWxlQWZ0ZXI6IGJvb2xlYW4pIHtcblxuXHRcdC8vIENoZWNrIHRoZSBldmVudCB0YXJnZXQgaWYgYW4gZXZlbnQgaXMgc3VwcGxpZWQuXG5cdFx0aWYgKGV2dCkge1xuXHRcdFx0XG5cdFx0XHQvLyBUaGUgc2VsZWN0ZWQgZmlsZSBtdXN0IGNvbnRhaW4gYSBidWxsZXQgcG9pbnQuXG5cdFx0XHRjb25zdCBidWxsZXRQb2ludE5yID0gdGhpcy5nZXRCdWxsZXRQb2ludE5yKGV2dC50YXJnZXQucGFyZW50Tm9kZSk7XG5cdFx0XHRpZiAoYnVsbGV0UG9pbnROciA9PT0gbnVsbCkge1xuXHRcdFx0XHR0aGlzLnNob3dGYWlsTm90aWNlKFwiTGluZSBpbiBmb2N1cyBkb2Vzbid0IGhhdmUgYnVsbGV0IHBvaW50LlwiKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIGJ1bGxldFBvaW50TnIgIT09IDEpIHtcblx0XHRcdFx0dGhpcy5zaG93RmFpbE5vdGljZShcIkxpbmUgaW4gZm9jdXMgaXNuJ3Qgcm9vdCBidWxsZXQgcG9pbnQuXCIpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9XG5cblx0XHQvLyBDaGVjayBhbmQgZmluZCB0aGUgaXNvbGF0aW9uIGZpbGUgYW5kIGdldCBpdHMgY29udGVudC5cblx0XHRjb25zdCBpc29sYXRpb25GaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKS5maW5kKGZpbGUgPT4gZmlsZS5wYXRoID09PSB0aGlzLnNldHRpbmdzLmlzb2xhdGlvbkZpbGVQYXRoKTtcblx0XHRpZiAoIWlzb2xhdGlvbkZpbGUpIHtcblx0XHRcdHRoaXMuc2hvd0ZhaWxOb3RpY2UoXCJObyBpc29sYXRpb24gZmlsZS5cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGlzb2xhdGlvbkZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChpc29sYXRpb25GaWxlKTtcblxuXHRcdC8vIEV4dHJhY3QgdGhlIGZyb250bWF0dGVyIGZyb20gdGhlIGlzb2xhdGlvbiBmaWxlLlxuXHRcdGxldCBpc29sYXRpb25GaWxlRm07XG5cdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXJcblx0XHRcdC5wcm9jZXNzRnJvbnRNYXR0ZXIoaXNvbGF0aW9uRmlsZSwgKGZyb250bWF0dGVyKSA9PiBpc29sYXRpb25GaWxlRm0gPSBmcm9udG1hdHRlcilcblx0XHRcdC5jYXRjaChfID0+IHRoaXMuc2hvd0ZhaWxOb3RpY2UoXCJQcm9jZXNzaW5nIGZyb250bWF0dGVyLlwiKSk7XG5cdFx0aWYgKCFpc29sYXRpb25GaWxlRm0pIHtcblx0XHRcdHRoaXMuc2hvd0ZhaWxOb3RpY2UoXCJDb3VsZG4ndCBwcm9jZXNzIGZyb250bWF0dGVyLlwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBFeHRyYWN0IHRoZSBjb250ZW50cyB0byB3cml0ZSBiYWNrIGZyb20gdGhlIGlzb2xhdGlvbiBmaWxlLlxuXHRcdGNvbnN0IGZyb250bWF0dGVyTWF0Y2ggPSBpc29sYXRpb25GaWxlQ29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLVxcbi8pO1xuXHRcdGlmICghZnJvbnRtYXR0ZXJNYXRjaCkge1xuXHRcdFx0dGhpcy5zaG93RmFpbE5vdGljZShcIk5vIHRleHQgdG8gd3JpdGUgYmFjayBmcm9tIHRoZSBpc29sYXRpb24gZmlsZS5cIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGlzb2xhdGlvbkZpbGVUZXh0ID0gaXNvbGF0aW9uRmlsZUNvbnRlbnQucmVwbGFjZShmcm9udG1hdHRlck1hdGNoWzBdLCBcIlwiKTtcblx0XHRjb25zdCBpc29sYXRpb25GaWxlTGluZXMgPSBpc29sYXRpb25GaWxlVGV4dC5zcGxpdChcIlxcblwiKTtcblxuXHRcdC8vIEFwcGx5IHRoZSBvZmZzZXQuXG5cdFx0Y29uc3Qgb2Zmc2V0SXNvbGF0aW9uRmlsZUxpbmVzID0gaXNvbGF0aW9uRmlsZUxpbmVzLm1hcChsaW5lID0+IFwiXFx0XCIucmVwZWF0KGlzb2xhdGlvbkZpbGVGbS5vZmZzZXQpICsgbGluZSk7XG5cblx0XHQvLyBDaGVjayBhbmQgZ2V0IHRoZSBvcmlnaW4gZmlsZS5cblx0XHRjb25zdCBvcmlnaW5GaWxlUGF0aCA9IGlzb2xhdGlvbkZpbGVGbS5vcmlnaW47XG5cdFx0Y29uc3Qgb3JpZ2luRmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCkuZmluZChmaWxlID0+IGZpbGUucGF0aCA9PT0gb3JpZ2luRmlsZVBhdGgpO1xuXHRcdGlmICghb3JpZ2luRmlsZSkge1xuXHRcdFx0dGhpcy5zaG93RmFpbE5vdGljZShcIk9yaWdpbiBmaWxlIGRvZXNuJ3QgZXhpc3QuXCIpO1xuXHRcdFx0Ly8gcmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHQvLyBXcml0ZSBiYWNrIHRoZSBpc29sYXRlZCBjb250ZW50IGludG8gdGhlIG9yaWdpbiBmaWxlLlxuXHRcdGNvbnN0IG9yaWdpbkZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChvcmlnaW5GaWxlKTtcblx0XHRjb25zdCBvcmlnaW5GaWxlTGluZXMgPSBvcmlnaW5GaWxlQ29udGVudC5zcGxpdChcIlxcblwiKTtcblx0XHRjb25zdCBvcmlnaW5MaW5lc1RvUmVtb3ZlUmFuZ2UgPSBpc29sYXRpb25GaWxlRm0uZW5kTGluZSArIDEgLSBpc29sYXRpb25GaWxlRm0uc3RhcnRMaW5lO1xuXHRcdG9yaWdpbkZpbGVMaW5lcy5zcGxpY2UoaXNvbGF0aW9uRmlsZUZtLnN0YXJ0TGluZSwgb3JpZ2luTGluZXNUb1JlbW92ZVJhbmdlLCAuLi5vZmZzZXRJc29sYXRpb25GaWxlTGluZXMpO1xuXHRcdGNvbnN0IG1vZGlmaWVkT3JpZ2luQ29udGVudCA9IG9yaWdpbkZpbGVMaW5lcy5qb2luKFwiXFxuXCIpO1xuXG5cdFx0Ly8gQXBwbHkgdGhlIGNoYW5nZXMgdG8gdGhlIG9yaWdpbiBmaWxlLlxuXHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShvcmlnaW5GaWxlLCBtb2RpZmllZE9yaWdpbkNvbnRlbnQpO1xuXG5cdFx0Ly8gT3BlbiB0aGUgb3JpZ2luIGZpbGUgb3IgdGhlIGdpdmVuIGZpbGUgdG8gb3BlbiBhZnRlci5cblx0XHRpZiAob3Blbk9yaWdpbkZpbGVBZnRlcikge1xuXHRcdFx0bmVlZHNXcml0ZUJhY2tVbmxvYWRFdmVudCA9IGZhbHNlO1xuXHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShvcmlnaW5GaWxlKTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gRGVsZXRlIHRoZSBpc29sYXRpb24gZmlsZS5cblx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5kZWxldGUodGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMuc2V0dGluZ3MuaXNvbGF0aW9uRmlsZVBhdGgpKTtcblxuXHR9XG5cblx0c2hvd0ZhaWxOb3RpY2UobXNnOiBzdHJpbmcpIHtcblx0XHRuZXcgTm90aWNlKFwiQnVsbGV0UG9pbnRJc29sYXRpb24gZmFpbGVkOiBcIiArIG1zZyk7XG5cdH1cblxuXHRnZXRCdWxsZXRQb2ludE5yKGVsZW0pIHtcblx0XHRjb25zdCBtYXRjaCA9IGVsZW0uY2xhc3NOYW1lLm1hdGNoKC9IeXBlck1ELWxpc3QtbGluZS0oXFxkKykvKTtcblx0XHRyZXR1cm4gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsxXSkgOiBudWxsO1xuXHR9XG5cblx0Y291bnRCdWxsZXRQb2ludExpbmVzKGVsZW0pIHtcblxuXHRcdC8vIFNldCB0aGUgcGFzc2VkIGVsZW1lbnQgYXMgaW5pdGlhbCBzaWJsaW5nIGFuZCBoZXQgaXRzIG9mZnNldCBudW1iZXIuXG5cdFx0bGV0IHNpYmxpbmcgPSBlbGVtO1xuXHRcdGNvbnN0IHJvb3RPZmZzZXQgPSB0aGlzLmdldEJ1bGxldFBvaW50TnIoc2libGluZyk7XG5cblx0XHRsZXQgc2libGluZ0NvdW50ID0gMTtcblx0XHR3aGlsZSAoc2libGluZy5uZXh0U2libGluZyAhPT0gbnVsbCkge1xuXG5cblx0XHRcdC8vIFNldCB0aGUgc2libGluZyBhcyBpdHMgbmV4dCBzaWJsaW5nLlxuXHRcdFx0c2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmc7XG5cblx0XHRcdC8vIElmIHRoZSBvZmZzZXQgbnVtYmVyIGlzIGVxdWFsIG9yIGxlc3MsIGJyZWFrIHRoZSBsb29wLlxuXHRcdFx0Y29uc3Qgc2libGluZ09mZnNldCA9IHRoaXMuZ2V0QnVsbGV0UG9pbnROcihzaWJsaW5nKTtcblx0XHRcdGlmIChyb290T2Zmc2V0ID49IHNpYmxpbmdPZmZzZXQpXG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHQvLyBJbmNyZW1lbnQgdGhlIHNpYmxpbmdzIGNvdW50LlxuXHRcdFx0c2libGluZ0NvdW50Kys7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNpYmxpbmdDb3VudDtcblx0fVxuXG5cdGNvbnZlcnRKc29uVG9Gcm9udG1hdHRlcihvYmosIHBlbmRpbmdOZXdsaW5lOiBib29sZWFuID0gdHJ1ZSkge1xuXHRcdGxldCBmcm9udG1hdHRlckFyciA9IE9iamVjdC5rZXlzKG9iaikubWFwKChrZXkpID0+IGAke2tleX06ICR7b2JqW2tleV19YCk7XG5cdFx0ZnJvbnRtYXR0ZXJBcnIucHVzaChcIi0tLVwiKTtcblx0XHRmcm9udG1hdHRlckFyci51bnNoaWZ0KFwiLS0tXCIpO1xuXHRcdGxldCBmcm9udG1hdHRlclRleHQgPSBmcm9udG1hdHRlckFyci5qb2luKFwiXFxuXCIpXG5cdFx0cmV0dXJuIHBlbmRpbmdOZXdsaW5lXG5cdFx0XHQ/IGZyb250bWF0dGVyVGV4dCArIFwiXFxuXCJcblx0XHRcdDogZnJvbnRtYXR0ZXJUZXh0O1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG59XG5cbmNsYXNzIEJ1bGxldFBvaW50SXNvbGF0b3JNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcblx0XHRzdXBlcihhcHApO1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuc2V0VGV4dCgnV29haCEnKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG5cbmNsYXNzIEJ1bGxldFBvaW50SXNvbGF0b3JTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQnVsbGV0UG9pbnRJc29sYXRvcjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBCdWxsZXRQb2ludElzb2xhdG9yKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHt0ZXh0OiBcIkJ1bGxldCBQb2ludCBJc29sYXRvciBQbHVnaW4gLSBTZXR0aW5nc1wifSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiSXNvbGF0aW9uIGZpbGUgcGF0aFwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgcGF0aCB3aGVyZSB0aGUgaXNvbGF0aW9uIGZpbGUgc2hvdWxkIGJlIGNyZWF0ZWQuXCIpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiVGhlIHBhdGggaGVyZS4uLlwiKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNvbGF0aW9uRmlsZVBhdGgpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc29sYXRpb25GaWxlUGF0aCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFB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
